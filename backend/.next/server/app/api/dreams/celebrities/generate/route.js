/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dreams/celebrities/generate/route";
exports.ids = ["app/api/dreams/celebrities/generate/route"];
exports.modules = {

/***/ "(rsc)/./app/api/dreams/celebrities/generate/route.ts":
/*!******************************************************!*\
  !*** ./app/api/dreams/celebrities/generate/route.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabaseServer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../lib/supabaseServer */ \"(rsc)/./lib/supabaseServer.ts\");\n/* harmony import */ var _lib_ai_gemini__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../lib/ai/gemini */ \"(rsc)/./lib/ai/gemini.ts\");\n/* harmony import */ var _lib_ai_prompts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../lib/ai/prompts */ \"(rsc)/./lib/ai/prompts.ts\");\n/* harmony import */ var _lib_ai_schemas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../lib/ai/schemas */ \"(rsc)/./lib/ai/schemas.ts\");\n\n\n\n\n\nasync function POST(req) {\n    try {\n        const token = req.headers.get('authorization')?.replace('Bearer ', '');\n        // Allow unauthenticated access for onboarding preview\n        const isOnboarding = !token;\n        console.log('üéØ Celebrity dream generation request:', {\n            hasToken: !!token,\n            isOnboarding,\n            tokenLength: token?.length || 0\n        });\n        let user = null;\n        let sb = null;\n        if (token) {\n            sb = (0,_lib_supabaseServer__WEBPACK_IMPORTED_MODULE_1__.supabaseServerAuth)(token);\n            const { data: userData } = await sb.auth.getUser();\n            user = userData?.user;\n            console.log('üë§ User authentication:', {\n                authenticated: !!user,\n                userId: user?.id || 'none'\n            });\n            if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const body = await req.json();\n        const name = body.custom_name || body.celebrity_name || body.name || '';\n        if (!name) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Missing celebrity name'\n        }, {\n            status: 400\n        });\n        // Normalize celebrity name to lowercase for consistent lookups\n        const normalizedName = name.toLowerCase().trim();\n        // Check for existing dreams (works for both authenticated and onboarding)\n        console.log('üîç Checking database for existing dreams for celebrity:', normalizedName);\n        try {\n            // During onboarding, use service role to bypass RLS and check all users' dreams\n            // During authenticated flow, use the authenticated client\n            const queryClient = isOnboarding ? (0,_lib_supabaseServer__WEBPACK_IMPORTED_MODULE_1__.supabaseServer)() : sb;\n            if (!queryClient) {\n                console.error('‚ùå No query client available');\n                throw new Error('No query client available');\n            }\n            if (isOnboarding) {\n                console.log('üîì Onboarding mode: using service role to check database');\n            }\n            // Fetch celebrity dreams (for authenticated: user's dreams, for onboarding: all dreams)\n            let query = queryClient.from('ai_generated_dreams').select('id, title, emoji, source_type, source_data, created_at').eq('source_type', 'celebrity');\n            // If authenticated, filter by user_id\n            if (!isOnboarding && user) {\n                query = query.eq('user_id', user.id);\n            }\n            const { data: allDreams, error: queryError } = await query;\n            if (queryError) {\n                console.error('‚ùå Error querying existing dreams:', queryError);\n            } else if (allDreams && allDreams.length > 0) {\n                console.log('üìä Retrieved', allDreams.length, 'celebrity dreams from database');\n                // Log all celebrity names found for debugging\n                const celebNames = allDreams.map((d)=>d.source_data?.celebrity_name).filter(Boolean);\n                console.log('üìã Celebrity names in database:', [\n                    ...new Set(celebNames)\n                ]);\n                // Filter by normalized celebrity name (case-insensitive)\n                const existing = allDreams.filter((d)=>{\n                    const celebName = d.source_data?.celebrity_name?.toLowerCase()?.trim();\n                    const matches = celebName === normalizedName;\n                    if (matches) {\n                        console.log('‚úÖ Match found:', celebName, '===', normalizedName);\n                    }\n                    return matches;\n                });\n                if (existing.length > 0) {\n                    console.log('‚úÖ Found existing dreams in database:', existing.length, 'for', normalizedName);\n                    // Return existing dreams in the expected format\n                    // For onboarding, return unique dreams (deduplicate by title)\n                    const uniqueDreams = existing.reduce((acc, dream)=>{\n                        if (!acc.find((d)=>d.title === dream.title)) {\n                            acc.push(dream);\n                        }\n                        return acc;\n                    }, []);\n                    const formattedDreams = uniqueDreams.map((d)=>({\n                            title: d.title,\n                            emoji: d.emoji,\n                            reasoning: d.source_data?.reasoning\n                        }));\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        data: {\n                            dreams: formattedDreams\n                        }\n                    });\n                } else {\n                    console.log('üì≠ No existing dreams found for', normalizedName, '(checked', allDreams.length, 'total celebrity dreams)');\n                    console.log('üîç Looking for:', normalizedName);\n                    console.log('üìã Available names:', [\n                        ...new Set(celebNames.map((n)=>n?.toLowerCase()?.trim()).filter(Boolean))\n                    ]);\n                }\n            } else {\n                console.log('üì≠ No celebrity dreams found in database', isOnboarding ? '(across all users)' : 'for user');\n            }\n        } catch (checkError) {\n            console.error('‚ö†Ô∏è Error checking for existing dreams:', checkError);\n        // Continue to generation if check fails\n        }\n        // Generate new dreams\n        console.log('üÜï Generating new dreams for celebrity:', normalizedName);\n        const prompt = `Generate 3-5 distinct, concrete dreams for someone inspired by ${name}. Avoid duplicates and keep them actionable.`;\n        const { data } = await (0,_lib_ai_gemini__WEBPACK_IMPORTED_MODULE_2__.generateJson)({\n            system: _lib_ai_prompts__WEBPACK_IMPORTED_MODULE_3__.CELEBRITY_DREAMS_SYSTEM,\n            messages: [\n                {\n                    text: prompt\n                }\n            ],\n            schema: _lib_ai_schemas__WEBPACK_IMPORTED_MODULE_4__.CELEBRITY_DREAMS_SCHEMA,\n            maxOutputTokens: 1000,\n            modelId: _lib_ai_gemini__WEBPACK_IMPORTED_MODULE_2__.GEMINI_MODEL\n        });\n        const dreams = data?.dreams ?? [];\n        // Persist to ai_generated_dreams only if authenticated\n        if (!isOnboarding && user && sb && Array.isArray(dreams) && dreams.length > 0) {\n            try {\n                const rows = dreams.map((d)=>({\n                        user_id: user.id,\n                        title: d.title,\n                        emoji: d.emoji,\n                        source_type: 'celebrity',\n                        source_data: {\n                            celebrity_name: normalizedName\n                        }\n                    }));\n                console.log('üíæ Storing', rows.length, 'dreams in database');\n                const { data: inserted, error: insertError } = await sb.from('ai_generated_dreams').insert(rows).select('id');\n                if (insertError) {\n                    console.error('‚ùå Failed to insert dreams:', insertError);\n                // Still return the dreams even if insert fails\n                } else {\n                    console.log('‚úÖ Successfully stored', inserted?.length || 0, 'dreams in database');\n                }\n            } catch (insertError) {\n                console.error('‚ùå Error inserting dreams:', insertError);\n            // Still return the dreams even if insert fails\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: {\n                dreams\n            }\n        });\n    } catch (error) {\n        console.error('Celebrity dream generation error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2RyZWFtcy9jZWxlYnJpdGllcy9nZW5lcmF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBd0Q7QUFDK0I7QUFDYjtBQUNGO0FBQ0E7QUFFakUsZUFBZU8sS0FBS0MsR0FBZ0I7SUFDekMsSUFBSTtRQUNGLE1BQU1DLFFBQVFELElBQUlFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQkMsUUFBUSxXQUFXO1FBQ25FLHNEQUFzRDtRQUN0RCxNQUFNQyxlQUFlLENBQUNKO1FBRXRCSyxRQUFRQyxHQUFHLENBQUMsMENBQTBDO1lBQ3BEQyxVQUFVLENBQUMsQ0FBQ1A7WUFDWkk7WUFDQUksYUFBYVIsT0FBT1MsVUFBVTtRQUNoQztRQUVBLElBQUlDLE9BQU87UUFDWCxJQUFJQyxLQUFLO1FBQ1QsSUFBSVgsT0FBTztZQUNUVyxLQUFLbkIsdUVBQWtCQSxDQUFDUTtZQUN4QixNQUFNLEVBQUVZLE1BQU1DLFFBQVEsRUFBRSxHQUFHLE1BQU1GLEdBQUdHLElBQUksQ0FBQ0MsT0FBTztZQUNoREwsT0FBT0csVUFBVUg7WUFDakJMLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkI7Z0JBQ3JDVSxlQUFlLENBQUMsQ0FBQ047Z0JBQ2pCTyxRQUFRUCxNQUFNUSxNQUFNO1lBQ3RCO1lBQ0EsSUFBSSxDQUFDUixNQUFNLE9BQU9uQixxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUMvRTtRQUVBLE1BQU1DLE9BQU8sTUFBTXZCLElBQUlvQixJQUFJO1FBQzNCLE1BQU1JLE9BQWVELEtBQUtFLFdBQVcsSUFBSUYsS0FBS0csY0FBYyxJQUFJSCxLQUFLQyxJQUFJLElBQUk7UUFDN0UsSUFBSSxDQUFDQSxNQUFNLE9BQU9oQyxxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXlCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO1FBRXZGLCtEQUErRDtRQUMvRCxNQUFNSyxpQkFBaUJILEtBQUtJLFdBQVcsR0FBR0MsSUFBSTtRQUU5QywwRUFBMEU7UUFDMUV2QixRQUFRQyxHQUFHLENBQUMsMkRBQTJEb0I7UUFDdkUsSUFBSTtZQUNGLGdGQUFnRjtZQUNoRiwwREFBMEQ7WUFDMUQsTUFBTUcsY0FBY3pCLGVBQWVYLG1FQUFjQSxLQUFLa0I7WUFFdEQsSUFBSSxDQUFDa0IsYUFBYTtnQkFDaEJ4QixRQUFRZSxLQUFLLENBQUM7Z0JBQ2QsTUFBTSxJQUFJVSxNQUFNO1lBQ2xCO1lBRUEsSUFBSTFCLGNBQWM7Z0JBQ2hCQyxRQUFRQyxHQUFHLENBQUM7WUFDZDtZQUVBLHdGQUF3RjtZQUN4RixJQUFJeUIsUUFBUUYsWUFDVEcsSUFBSSxDQUFDLHVCQUNMQyxNQUFNLENBQUMsMERBQ1BDLEVBQUUsQ0FBQyxlQUFlO1lBRXJCLHNDQUFzQztZQUN0QyxJQUFJLENBQUM5QixnQkFBZ0JNLE1BQU07Z0JBQ3pCcUIsUUFBUUEsTUFBTUcsRUFBRSxDQUFDLFdBQVd4QixLQUFLUSxFQUFFO1lBQ3JDO1lBRUEsTUFBTSxFQUFFTixNQUFNdUIsU0FBUyxFQUFFZixPQUFPZ0IsVUFBVSxFQUFFLEdBQUcsTUFBTUw7WUFFckQsSUFBSUssWUFBWTtnQkFDZC9CLFFBQVFlLEtBQUssQ0FBQyxxQ0FBcUNnQjtZQUNyRCxPQUFPLElBQUlELGFBQWFBLFVBQVUxQixNQUFNLEdBQUcsR0FBRztnQkFDNUNKLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0I2QixVQUFVMUIsTUFBTSxFQUFFO2dCQUM5Qyw4Q0FBOEM7Z0JBQzlDLE1BQU00QixhQUFhRixVQUFVRyxHQUFHLENBQUMsQ0FBQ0MsSUFBV0EsRUFBRUMsV0FBVyxFQUFFZixnQkFBZ0JnQixNQUFNLENBQUNDO2dCQUNuRnJDLFFBQVFDLEdBQUcsQ0FBQyxtQ0FBbUM7dUJBQUksSUFBSXFDLElBQUlOO2lCQUFZO2dCQUV2RSx5REFBeUQ7Z0JBQ3pELE1BQU1PLFdBQVdULFVBQVVNLE1BQU0sQ0FBQyxDQUFDRjtvQkFDakMsTUFBTU0sWUFBWU4sRUFBRUMsV0FBVyxFQUFFZixnQkFBZ0JFLGVBQWVDO29CQUNoRSxNQUFNa0IsVUFBVUQsY0FBY25CO29CQUM5QixJQUFJb0IsU0FBUzt3QkFDWHpDLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0J1QyxXQUFXLE9BQU9uQjtvQkFDbEQ7b0JBQ0EsT0FBT29CO2dCQUNUO2dCQUVBLElBQUlGLFNBQVNuQyxNQUFNLEdBQUcsR0FBRztvQkFDdkJKLFFBQVFDLEdBQUcsQ0FBQyx3Q0FBd0NzQyxTQUFTbkMsTUFBTSxFQUFFLE9BQU9pQjtvQkFDNUUsZ0RBQWdEO29CQUNoRCw4REFBOEQ7b0JBQzlELE1BQU1xQixlQUFlSCxTQUFTSSxNQUFNLENBQUMsQ0FBQ0MsS0FBWUM7d0JBQ2hELElBQUksQ0FBQ0QsSUFBSUUsSUFBSSxDQUFDWixDQUFBQSxJQUFLQSxFQUFFYSxLQUFLLEtBQUtGLE1BQU1FLEtBQUssR0FBRzs0QkFDM0NILElBQUlJLElBQUksQ0FBQ0g7d0JBQ1g7d0JBQ0EsT0FBT0Q7b0JBQ1QsR0FBRyxFQUFFO29CQUVMLE1BQU1LLGtCQUFrQlAsYUFBYVQsR0FBRyxDQUFDLENBQUNDLElBQVk7NEJBQ3BEYSxPQUFPYixFQUFFYSxLQUFLOzRCQUNkRyxPQUFPaEIsRUFBRWdCLEtBQUs7NEJBQ2RDLFdBQVdqQixFQUFFQyxXQUFXLEVBQUVnQjt3QkFDNUI7b0JBQ0EsT0FBT2pFLHFEQUFZQSxDQUFDNEIsSUFBSSxDQUFDO3dCQUFFc0MsU0FBUzt3QkFBTTdDLE1BQU07NEJBQUU4QyxRQUFRSjt3QkFBZ0I7b0JBQUU7Z0JBQzlFLE9BQU87b0JBQ0xqRCxRQUFRQyxHQUFHLENBQUMsbUNBQW1Db0IsZ0JBQWdCLFlBQVlTLFVBQVUxQixNQUFNLEVBQUU7b0JBQzdGSixRQUFRQyxHQUFHLENBQUMsbUJBQW1Cb0I7b0JBQy9CckIsUUFBUUMsR0FBRyxDQUFDLHVCQUF1QjsyQkFBSSxJQUFJcUMsSUFBSU4sV0FBV0MsR0FBRyxDQUFDLENBQUNxQixJQUFjQSxHQUFHaEMsZUFBZUMsUUFBUWEsTUFBTSxDQUFDQztxQkFBVTtnQkFDMUg7WUFDRixPQUFPO2dCQUNMckMsUUFBUUMsR0FBRyxDQUFDLDRDQUE0Q0YsZUFBZSx1QkFBdUI7WUFDaEc7UUFDRixFQUFFLE9BQU93RCxZQUFZO1lBQ25CdkQsUUFBUWUsS0FBSyxDQUFDLDBDQUEwQ3dDO1FBQ3hELHdDQUF3QztRQUMxQztRQUVBLHNCQUFzQjtRQUN0QnZELFFBQVFDLEdBQUcsQ0FBQywyQ0FBMkNvQjtRQUN2RCxNQUFNbUMsU0FBUyxDQUFDLCtEQUErRCxFQUFFdEMsS0FBSyw0Q0FBNEMsQ0FBQztRQUVuSSxNQUFNLEVBQUVYLElBQUksRUFBRSxHQUFHLE1BQU1sQiw0REFBWUEsQ0FBQztZQUNsQ29FLFFBQVFsRSxvRUFBdUJBO1lBQy9CbUUsVUFBVTtnQkFBQztvQkFBRUMsTUFBTUg7Z0JBQU87YUFBRTtZQUM1QkksUUFBUXBFLG9FQUF1QkE7WUFDL0JxRSxpQkFBaUI7WUFDakJDLFNBQVN4RSx3REFBWUE7UUFDdkI7UUFFQSxNQUFNK0QsU0FBc0U5QyxNQUFNOEMsVUFBVSxFQUFFO1FBRTlGLHVEQUF1RDtRQUN2RCxJQUFJLENBQUN0RCxnQkFBZ0JNLFFBQVFDLE1BQU15RCxNQUFNQyxPQUFPLENBQUNYLFdBQVdBLE9BQU9qRCxNQUFNLEdBQUcsR0FBRztZQUM3RSxJQUFJO2dCQUNGLE1BQU02RCxPQUFPWixPQUFPcEIsR0FBRyxDQUFDLENBQUNDLElBQU87d0JBQzlCZ0MsU0FBUzdELEtBQUtRLEVBQUU7d0JBQ2hCa0MsT0FBT2IsRUFBRWEsS0FBSzt3QkFDZEcsT0FBT2hCLEVBQUVnQixLQUFLO3dCQUNkaUIsYUFBYTt3QkFDYmhDLGFBQWE7NEJBQUVmLGdCQUFnQkM7d0JBQWU7b0JBQ2hEO2dCQUVBckIsUUFBUUMsR0FBRyxDQUFDLGNBQWNnRSxLQUFLN0QsTUFBTSxFQUFFO2dCQUN2QyxNQUFNLEVBQUVHLE1BQU02RCxRQUFRLEVBQUVyRCxPQUFPc0QsV0FBVyxFQUFFLEdBQUcsTUFBTS9ELEdBQ2xEcUIsSUFBSSxDQUFDLHVCQUNMMkMsTUFBTSxDQUFDTCxNQUNQckMsTUFBTSxDQUFDO2dCQUVWLElBQUl5QyxhQUFhO29CQUNmckUsUUFBUWUsS0FBSyxDQUFDLDhCQUE4QnNEO2dCQUM1QywrQ0FBK0M7Z0JBQ2pELE9BQU87b0JBQ0xyRSxRQUFRQyxHQUFHLENBQUMseUJBQXlCbUUsVUFBVWhFLFVBQVUsR0FBRztnQkFDOUQ7WUFDRixFQUFFLE9BQU9pRSxhQUFhO2dCQUNwQnJFLFFBQVFlLEtBQUssQ0FBQyw2QkFBNkJzRDtZQUMzQywrQ0FBK0M7WUFDakQ7UUFDRjtRQUVBLE9BQU9uRixxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztZQUFFc0MsU0FBUztZQUFNN0MsTUFBTTtnQkFBRThDO1lBQU87UUFBRTtJQUM3RCxFQUFFLE9BQU90QyxPQUFPO1FBQ2RmLFFBQVFlLEtBQUssQ0FBQyxxQ0FBcUNBO1FBQ25ELE9BQU83QixxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L3JlZ3JldGxlc3MtMy9iYWNrZW5kL2FwcC9hcGkvZHJlYW1zL2NlbGVicml0aWVzL2dlbmVyYXRlL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBzdXBhYmFzZVNlcnZlckF1dGgsIHN1cGFiYXNlU2VydmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL3N1cGFiYXNlU2VydmVyJztcbmltcG9ydCB7IGdlbmVyYXRlSnNvbiwgR0VNSU5JX01PREVMIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL2FpL2dlbWluaSc7XG5pbXBvcnQgeyBDRUxFQlJJVFlfRFJFQU1TX1NZU1RFTSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9haS9wcm9tcHRzJztcbmltcG9ydCB7IENFTEVCUklUWV9EUkVBTVNfU0NIRU1BIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL2FpL3NjaGVtYXMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKT8ucmVwbGFjZSgnQmVhcmVyICcsICcnKTtcbiAgICAvLyBBbGxvdyB1bmF1dGhlbnRpY2F0ZWQgYWNjZXNzIGZvciBvbmJvYXJkaW5nIHByZXZpZXdcbiAgICBjb25zdCBpc09uYm9hcmRpbmcgPSAhdG9rZW47XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/Cfjq8gQ2VsZWJyaXR5IGRyZWFtIGdlbmVyYXRpb24gcmVxdWVzdDonLCB7XG4gICAgICBoYXNUb2tlbjogISF0b2tlbixcbiAgICAgIGlzT25ib2FyZGluZyxcbiAgICAgIHRva2VuTGVuZ3RoOiB0b2tlbj8ubGVuZ3RoIHx8IDBcbiAgICB9KTtcbiAgICBcbiAgICBsZXQgdXNlciA9IG51bGw7XG4gICAgbGV0IHNiID0gbnVsbDtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIHNiID0gc3VwYWJhc2VTZXJ2ZXJBdXRoKHRva2VuKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlckRhdGEgfSA9IGF3YWl0IHNiLmF1dGguZ2V0VXNlcigpO1xuICAgICAgdXNlciA9IHVzZXJEYXRhPy51c2VyO1xuICAgICAgY29uc29sZS5sb2coJ/CfkaQgVXNlciBhdXRoZW50aWNhdGlvbjonLCB7XG4gICAgICAgIGF1dGhlbnRpY2F0ZWQ6ICEhdXNlcixcbiAgICAgICAgdXNlcklkOiB1c2VyPy5pZCB8fCAnbm9uZSdcbiAgICAgIH0pO1xuICAgICAgaWYgKCF1c2VyKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBjb25zdCBuYW1lOiBzdHJpbmcgPSBib2R5LmN1c3RvbV9uYW1lIHx8IGJvZHkuY2VsZWJyaXR5X25hbWUgfHwgYm9keS5uYW1lIHx8ICcnO1xuICAgIGlmICghbmFtZSkgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIGNlbGVicml0eSBuYW1lJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuXG4gICAgLy8gTm9ybWFsaXplIGNlbGVicml0eSBuYW1lIHRvIGxvd2VyY2FzZSBmb3IgY29uc2lzdGVudCBsb29rdXBzXG4gICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIGRyZWFtcyAod29ya3MgZm9yIGJvdGggYXV0aGVudGljYXRlZCBhbmQgb25ib2FyZGluZylcbiAgICBjb25zb2xlLmxvZygn8J+UjSBDaGVja2luZyBkYXRhYmFzZSBmb3IgZXhpc3RpbmcgZHJlYW1zIGZvciBjZWxlYnJpdHk6Jywgbm9ybWFsaXplZE5hbWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBEdXJpbmcgb25ib2FyZGluZywgdXNlIHNlcnZpY2Ugcm9sZSB0byBieXBhc3MgUkxTIGFuZCBjaGVjayBhbGwgdXNlcnMnIGRyZWFtc1xuICAgICAgLy8gRHVyaW5nIGF1dGhlbnRpY2F0ZWQgZmxvdywgdXNlIHRoZSBhdXRoZW50aWNhdGVkIGNsaWVudFxuICAgICAgY29uc3QgcXVlcnlDbGllbnQgPSBpc09uYm9hcmRpbmcgPyBzdXBhYmFzZVNlcnZlcigpIDogc2I7XG4gICAgICBcbiAgICAgIGlmICghcXVlcnlDbGllbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5vIHF1ZXJ5IGNsaWVudCBhdmFpbGFibGUnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBxdWVyeSBjbGllbnQgYXZhaWxhYmxlJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChpc09uYm9hcmRpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflJMgT25ib2FyZGluZyBtb2RlOiB1c2luZyBzZXJ2aWNlIHJvbGUgdG8gY2hlY2sgZGF0YWJhc2UnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmV0Y2ggY2VsZWJyaXR5IGRyZWFtcyAoZm9yIGF1dGhlbnRpY2F0ZWQ6IHVzZXIncyBkcmVhbXMsIGZvciBvbmJvYXJkaW5nOiBhbGwgZHJlYW1zKVxuICAgICAgbGV0IHF1ZXJ5ID0gcXVlcnlDbGllbnRcbiAgICAgICAgLmZyb20oJ2FpX2dlbmVyYXRlZF9kcmVhbXMnKVxuICAgICAgICAuc2VsZWN0KCdpZCwgdGl0bGUsIGVtb2ppLCBzb3VyY2VfdHlwZSwgc291cmNlX2RhdGEsIGNyZWF0ZWRfYXQnKVxuICAgICAgICAuZXEoJ3NvdXJjZV90eXBlJywgJ2NlbGVicml0eScpO1xuICAgICAgXG4gICAgICAvLyBJZiBhdXRoZW50aWNhdGVkLCBmaWx0ZXIgYnkgdXNlcl9pZFxuICAgICAgaWYgKCFpc09uYm9hcmRpbmcgJiYgdXNlcikge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCd1c2VyX2lkJywgdXNlci5pZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsRHJlYW1zLCBlcnJvcjogcXVlcnlFcnJvciB9ID0gYXdhaXQgcXVlcnk7XG5cbiAgICAgIGlmIChxdWVyeUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBxdWVyeWluZyBleGlzdGluZyBkcmVhbXM6JywgcXVlcnlFcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKGFsbERyZWFtcyAmJiBhbGxEcmVhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBSZXRyaWV2ZWQnLCBhbGxEcmVhbXMubGVuZ3RoLCAnY2VsZWJyaXR5IGRyZWFtcyBmcm9tIGRhdGFiYXNlJyk7XG4gICAgICAgIC8vIExvZyBhbGwgY2VsZWJyaXR5IG5hbWVzIGZvdW5kIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgY2VsZWJOYW1lcyA9IGFsbERyZWFtcy5tYXAoKGQ6IGFueSkgPT4gZC5zb3VyY2VfZGF0YT8uY2VsZWJyaXR5X25hbWUpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgQ2VsZWJyaXR5IG5hbWVzIGluIGRhdGFiYXNlOicsIFsuLi5uZXcgU2V0KGNlbGViTmFtZXMpXSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGaWx0ZXIgYnkgbm9ybWFsaXplZCBjZWxlYnJpdHkgbmFtZSAoY2FzZS1pbnNlbnNpdGl2ZSlcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhbGxEcmVhbXMuZmlsdGVyKChkOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjZWxlYk5hbWUgPSBkLnNvdXJjZV9kYXRhPy5jZWxlYnJpdHlfbmFtZT8udG9Mb3dlckNhc2UoKT8udHJpbSgpO1xuICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBjZWxlYk5hbWUgPT09IG5vcm1hbGl6ZWROYW1lO1xuICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIE1hdGNoIGZvdW5kOicsIGNlbGViTmFtZSwgJz09PScsIG5vcm1hbGl6ZWROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChleGlzdGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGb3VuZCBleGlzdGluZyBkcmVhbXMgaW4gZGF0YWJhc2U6JywgZXhpc3RpbmcubGVuZ3RoLCAnZm9yJywgbm9ybWFsaXplZE5hbWUpO1xuICAgICAgICAgIC8vIFJldHVybiBleGlzdGluZyBkcmVhbXMgaW4gdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgICAgICAgIC8vIEZvciBvbmJvYXJkaW5nLCByZXR1cm4gdW5pcXVlIGRyZWFtcyAoZGVkdXBsaWNhdGUgYnkgdGl0bGUpXG4gICAgICAgICAgY29uc3QgdW5pcXVlRHJlYW1zID0gZXhpc3RpbmcucmVkdWNlKChhY2M6IGFueVtdLCBkcmVhbTogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWFjYy5maW5kKGQgPT4gZC50aXRsZSA9PT0gZHJlYW0udGl0bGUpKSB7XG4gICAgICAgICAgICAgIGFjYy5wdXNoKGRyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSwgW10pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZERyZWFtcyA9IHVuaXF1ZURyZWFtcy5tYXAoKGQ6IGFueSkgPT4gKHtcbiAgICAgICAgICAgIHRpdGxlOiBkLnRpdGxlLFxuICAgICAgICAgICAgZW1vamk6IGQuZW1vamksXG4gICAgICAgICAgICByZWFzb25pbmc6IGQuc291cmNlX2RhdGE/LnJlYXNvbmluZyxcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBkcmVhbXM6IGZvcm1hdHRlZERyZWFtcyB9IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OtIE5vIGV4aXN0aW5nIGRyZWFtcyBmb3VuZCBmb3InLCBub3JtYWxpemVkTmFtZSwgJyhjaGVja2VkJywgYWxsRHJlYW1zLmxlbmd0aCwgJ3RvdGFsIGNlbGVicml0eSBkcmVhbXMpJyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gTG9va2luZyBmb3I6Jywgbm9ybWFsaXplZE5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEF2YWlsYWJsZSBuYW1lczonLCBbLi4ubmV3IFNldChjZWxlYk5hbWVzLm1hcCgobjogc3RyaW5nKSA9PiBuPy50b0xvd2VyQ2FzZSgpPy50cmltKCkpLmZpbHRlcihCb29sZWFuKSldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk60gTm8gY2VsZWJyaXR5IGRyZWFtcyBmb3VuZCBpbiBkYXRhYmFzZScsIGlzT25ib2FyZGluZyA/ICcoYWNyb3NzIGFsbCB1c2VycyknIDogJ2ZvciB1c2VyJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoY2hlY2tFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4pqg77iPIEVycm9yIGNoZWNraW5nIGZvciBleGlzdGluZyBkcmVhbXM6JywgY2hlY2tFcnJvcik7XG4gICAgICAvLyBDb250aW51ZSB0byBnZW5lcmF0aW9uIGlmIGNoZWNrIGZhaWxzXG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgbmV3IGRyZWFtc1xuICAgIGNvbnNvbGUubG9nKCfwn4aVIEdlbmVyYXRpbmcgbmV3IGRyZWFtcyBmb3IgY2VsZWJyaXR5OicsIG5vcm1hbGl6ZWROYW1lKTtcbiAgICBjb25zdCBwcm9tcHQgPSBgR2VuZXJhdGUgMy01IGRpc3RpbmN0LCBjb25jcmV0ZSBkcmVhbXMgZm9yIHNvbWVvbmUgaW5zcGlyZWQgYnkgJHtuYW1lfS4gQXZvaWQgZHVwbGljYXRlcyBhbmQga2VlcCB0aGVtIGFjdGlvbmFibGUuYDtcblxuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgZ2VuZXJhdGVKc29uKHtcbiAgICAgIHN5c3RlbTogQ0VMRUJSSVRZX0RSRUFNU19TWVNURU0sXG4gICAgICBtZXNzYWdlczogW3sgdGV4dDogcHJvbXB0IH1dLFxuICAgICAgc2NoZW1hOiBDRUxFQlJJVFlfRFJFQU1TX1NDSEVNQSxcbiAgICAgIG1heE91dHB1dFRva2VuczogMTAwMCxcbiAgICAgIG1vZGVsSWQ6IEdFTUlOSV9NT0RFTCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRyZWFtczogQXJyYXk8eyB0aXRsZTogc3RyaW5nOyBlbW9qaTogc3RyaW5nOyByZWFzb25pbmc/OiBzdHJpbmcgfT4gPSBkYXRhPy5kcmVhbXMgPz8gW107XG5cbiAgICAvLyBQZXJzaXN0IHRvIGFpX2dlbmVyYXRlZF9kcmVhbXMgb25seSBpZiBhdXRoZW50aWNhdGVkXG4gICAgaWYgKCFpc09uYm9hcmRpbmcgJiYgdXNlciAmJiBzYiAmJiBBcnJheS5pc0FycmF5KGRyZWFtcykgJiYgZHJlYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBkcmVhbXMubWFwKChkKSA9PiAoe1xuICAgICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgdGl0bGU6IGQudGl0bGUsXG4gICAgICAgICAgZW1vamk6IGQuZW1vamksXG4gICAgICAgICAgc291cmNlX3R5cGU6ICdjZWxlYnJpdHknLFxuICAgICAgICAgIHNvdXJjZV9kYXRhOiB7IGNlbGVicml0eV9uYW1lOiBub3JtYWxpemVkTmFtZSB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+SviBTdG9yaW5nJywgcm93cy5sZW5ndGgsICdkcmVhbXMgaW4gZGF0YWJhc2UnKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBpbnNlcnRlZCwgZXJyb3I6IGluc2VydEVycm9yIH0gPSBhd2FpdCBzYlxuICAgICAgICAgIC5mcm9tKCdhaV9nZW5lcmF0ZWRfZHJlYW1zJylcbiAgICAgICAgICAuaW5zZXJ0KHJvd3MpXG4gICAgICAgICAgLnNlbGVjdCgnaWQnKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpbnNlcnRFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gaW5zZXJ0IGRyZWFtczonLCBpbnNlcnRFcnJvcik7XG4gICAgICAgICAgLy8gU3RpbGwgcmV0dXJuIHRoZSBkcmVhbXMgZXZlbiBpZiBpbnNlcnQgZmFpbHNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1Y2Nlc3NmdWxseSBzdG9yZWQnLCBpbnNlcnRlZD8ubGVuZ3RoIHx8IDAsICdkcmVhbXMgaW4gZGF0YWJhc2UnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluc2VydGluZyBkcmVhbXM6JywgaW5zZXJ0RXJyb3IpO1xuICAgICAgICAvLyBTdGlsbCByZXR1cm4gdGhlIGRyZWFtcyBldmVuIGlmIGluc2VydCBmYWlsc1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgZHJlYW1zIH0gfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQ2VsZWJyaXR5IGRyZWFtIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cblxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInN1cGFiYXNlU2VydmVyQXV0aCIsInN1cGFiYXNlU2VydmVyIiwiZ2VuZXJhdGVKc29uIiwiR0VNSU5JX01PREVMIiwiQ0VMRUJSSVRZX0RSRUFNU19TWVNURU0iLCJDRUxFQlJJVFlfRFJFQU1TX1NDSEVNQSIsIlBPU1QiLCJyZXEiLCJ0b2tlbiIsImhlYWRlcnMiLCJnZXQiLCJyZXBsYWNlIiwiaXNPbmJvYXJkaW5nIiwiY29uc29sZSIsImxvZyIsImhhc1Rva2VuIiwidG9rZW5MZW5ndGgiLCJsZW5ndGgiLCJ1c2VyIiwic2IiLCJkYXRhIiwidXNlckRhdGEiLCJhdXRoIiwiZ2V0VXNlciIsImF1dGhlbnRpY2F0ZWQiLCJ1c2VySWQiLCJpZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImJvZHkiLCJuYW1lIiwiY3VzdG9tX25hbWUiLCJjZWxlYnJpdHlfbmFtZSIsIm5vcm1hbGl6ZWROYW1lIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwicXVlcnlDbGllbnQiLCJFcnJvciIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsImVxIiwiYWxsRHJlYW1zIiwicXVlcnlFcnJvciIsImNlbGViTmFtZXMiLCJtYXAiLCJkIiwic291cmNlX2RhdGEiLCJmaWx0ZXIiLCJCb29sZWFuIiwiU2V0IiwiZXhpc3RpbmciLCJjZWxlYk5hbWUiLCJtYXRjaGVzIiwidW5pcXVlRHJlYW1zIiwicmVkdWNlIiwiYWNjIiwiZHJlYW0iLCJmaW5kIiwidGl0bGUiLCJwdXNoIiwiZm9ybWF0dGVkRHJlYW1zIiwiZW1vamkiLCJyZWFzb25pbmciLCJzdWNjZXNzIiwiZHJlYW1zIiwibiIsImNoZWNrRXJyb3IiLCJwcm9tcHQiLCJzeXN0ZW0iLCJtZXNzYWdlcyIsInRleHQiLCJzY2hlbWEiLCJtYXhPdXRwdXRUb2tlbnMiLCJtb2RlbElkIiwiQXJyYXkiLCJpc0FycmF5Iiwicm93cyIsInVzZXJfaWQiLCJzb3VyY2VfdHlwZSIsImluc2VydGVkIiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/dreams/celebrities/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/gemini.ts":
/*!**************************!*\
  !*** ./lib/ai/gemini.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GEMINI_FLASH_MODEL: () => (/* binding */ GEMINI_FLASH_MODEL),\n/* harmony export */   GEMINI_MODEL: () => (/* binding */ GEMINI_MODEL),\n/* harmony export */   THINKING_BUDGETS: () => (/* binding */ THINKING_BUDGETS),\n/* harmony export */   generateJson: () => (/* binding */ generateJson),\n/* harmony export */   getModel: () => (/* binding */ getModel),\n/* harmony export */   getThinkingBudgetRange: () => (/* binding */ getThinkingBudgetRange),\n/* harmony export */   validateThinkingBudget: () => (/* binding */ validateThinkingBudget)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n// lib/ai/gemini.ts\n\nif (!process.env.GEMINI_API_KEY) throw new Error(\"GEMINI_API_KEY missing\");\nconst GEMINI_MODEL = \"gemini-2.5-flash-lite\";\nconst GEMINI_FLASH_MODEL = \"gemini-2.5-flash\";\n// Thinking budget presets for different use cases\nconst THINKING_BUDGETS = {\n    MINIMAL: 512,\n    MODERATE: 1024,\n    HIGH: 2048,\n    MAXIMUM: 4096,\n    DYNAMIC: -1,\n    DISABLED: 0 // Disable thinking entirely\n};\nconst client = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY);\nfunction getModel(systemInstruction, modelId = GEMINI_MODEL) {\n    return client.getGenerativeModel({\n        model: modelId,\n        ...systemInstruction ? {\n            systemInstruction\n        } : {}\n    });\n}\n/**\n * Get the valid thinking budget range for a given model\n */ function getThinkingBudgetRange(modelId) {\n    if (modelId.includes('pro')) {\n        return {\n            min: 128,\n            max: 32768\n        };\n    } else if (modelId.includes('flash-lite')) {\n        return {\n            min: 512,\n            max: 24576\n        };\n    } else if (modelId.includes('flash')) {\n        return {\n            min: 0,\n            max: 24576\n        };\n    }\n    // Default to flash-lite range for unknown models\n    return {\n        min: 512,\n        max: 24576\n    };\n}\n/**\n * Validate and clamp a thinking budget to the valid range for a model\n */ function validateThinkingBudget(thinkingBudget, modelId) {\n    const { min, max } = getThinkingBudgetRange(modelId);\n    // Special cases\n    if (thinkingBudget === -1) return -1; // Dynamic\n    if (thinkingBudget === 0) return 0; // Disabled\n    // Clamp to valid range\n    return Math.max(min, Math.min(max, thinkingBudget));\n}\n/**\n * Generate JSON response from Gemini with optional thinking budget support\n * \n * @param opts Configuration options\n * @param opts.system System instruction for the model\n * @param opts.messages Array of messages to send to the model\n * @param opts.schema JSON schema for the expected response format\n * @param opts.maxOutputTokens Maximum tokens for the response (default: 600)\n * @param opts.modelId Model to use (default: GEMINI_MODEL)\n * @param opts.enableThinking Enable thinking mode (default: false)\n * @param opts.thinkingBudget Number of tokens to allocate for thinking (default: THINKING_BUDGETS.MODERATE)\n * @returns Promise with parsed JSON data and usage metadata\n */ async function generateJson(opts) {\n    const model = getModel(opts.system, opts.modelId);\n    // Build generation config with optional thinking support\n    const generationConfig = {\n        responseMimeType: \"application/json\",\n        responseSchema: opts.schema,\n        maxOutputTokens: opts.maxOutputTokens ?? 600\n    };\n    // Add thinking configuration if enabled\n    if (opts.enableThinking || opts.thinkingBudget !== undefined) {\n        const modelId = opts.modelId ?? GEMINI_MODEL;\n        const thinkingBudget = opts.thinkingBudget ?? THINKING_BUDGETS.MODERATE;\n        // Validate and clamp thinking budget to valid range\n        const validatedBudget = validateThinkingBudget(thinkingBudget, modelId);\n        generationConfig.thinkingConfig = {\n            thinkingBudget: validatedBudget\n        };\n        const budgetDescription = validatedBudget === -1 ? 'dynamic' : validatedBudget === 0 ? 'disabled' : `${validatedBudget} tokens`;\n        console.log(`üß† Using thinking budget: ${budgetDescription} for model: ${modelId}`);\n    }\n    const resp = await model.generateContent({\n        contents: [\n            {\n                role: \"user\",\n                parts: opts.messages\n            }\n        ],\n        generationConfig\n    });\n    let text = resp.response.text(); // JSON string per schema\n    const usage = resp.response.usageMetadata;\n    // Log the raw response for debugging\n    console.log('ü§ñ Raw AI Response:', text);\n    // Check if JSON appears to be truncated\n    const trimmedText = text.trim();\n    if (!trimmedText.endsWith('}') && !trimmedText.endsWith(']')) {\n        console.warn('‚ö†Ô∏è JSON appears to be truncated - attempting to fix');\n        // Special case: if the text ends with a number (like \"slice_count_target\": 3), \n        // it's likely a truncated action that just needs closing braces\n        if (trimmedText.match(/\\d+\\s*$/)) {\n            console.log('üîß Detected truncation after numeric value - adding closing braces');\n            text = trimmedText + '\\n      }\\n    ]\\n  }';\n        } else {\n            // Try to find the last complete object and close the JSON properly\n            const lastCompleteBrace = trimmedText.lastIndexOf('}');\n            const lastCompleteBracket = trimmedText.lastIndexOf(']');\n            const lastComplete = Math.max(lastCompleteBrace, lastCompleteBracket);\n            if (lastComplete > 0) {\n                // Find the last complete action object\n                const beforeLastComplete = trimmedText.substring(0, lastComplete + 1);\n                const afterLastComplete = trimmedText.substring(lastComplete + 1);\n                // If there's incomplete content after the last complete object, try to close it\n                if (afterLastComplete.trim() && !afterLastComplete.includes('}')) {\n                    // This looks like a truncated action, try to close the JSON structure\n                    let fixedText = beforeLastComplete;\n                    // If we're in the middle of an action object, try to close it\n                    if (afterLastComplete.includes('\"area_id\"') || afterLastComplete.includes('\"title\"') || afterLastComplete.includes('\"position\"')) {\n                        // This is likely a truncated action, try to complete it properly\n                        if (afterLastComplete.includes('\"position\"') && !afterLastComplete.includes('}')) {\n                            // The action has position but is missing closing brace\n                            const positionMatch = afterLastComplete.match(/\"position\":\\s*(\\d+)/);\n                            if (positionMatch) {\n                                const position = positionMatch[1];\n                                fixedText += `,\\n      \"position\": ${position}\\n    }`;\n                            } else {\n                                fixedText += ',\\n      \"position\": 999\\n    }';\n                            }\n                        } else {\n                            // This is likely a truncated action, close it with minimal required fields\n                            fixedText += ',\\n    {\\n      \"area_id\": \"truncated\",\\n      \"title\": \"Complete remaining actions\",\\n      \"est_minutes\": 60,\\n      \"difficulty\": \"medium\",\\n      \"acceptance_criteria\": [\"Action completed\"],\\n      \"position\": 999\\n    }';\n                        }\n                    }\n                    // Close the actions array and main object\n                    fixedText += '\\n  ]\\n}';\n                    console.log('üîß Attempting to fix truncated JSON:', fixedText);\n                    text = fixedText;\n                }\n            }\n        }\n    }\n    try {\n        // Try to clean up common JSON formatting issues\n        let cleanedText = text// Remove trailing commas before closing braces/brackets\n        .replace(/,(\\s*[}\\]])/g, '$1')// Fix line breaks in the middle of objects\n        .replace(/,\\s*\\n\\s*([a-zA-Z_])/g, ',\\n      \"$1')// Ensure proper spacing around colons\n        .replace(/:\\s*([0-9]+)\\s*\\n\\s*,\\s*\\n\\s*([a-zA-Z_])/g, ': $1,\\n      \"$2');\n        const parsedData = JSON.parse(cleanedText);\n        return {\n            data: parsedData,\n            usage\n        };\n    } catch (parseError) {\n        console.error('‚ùå JSON Parse Error:', parseError);\n        console.error('‚ùå Raw text that failed to parse:', text);\n        // Try one more cleanup attempt\n        try {\n            // More aggressive cleanup\n            let aggressiveCleanup = text.replace(/,\\s*\\n\\s*([a-zA-Z_][a-zA-Z0-9_]*)\\s*:/g, ',\\n      \"$1\":').replace(/([0-9]+)\\s*\\n\\s*,\\s*\\n\\s*([a-zA-Z_][a-zA-Z0-9_]*)\\s*:/g, '$1,\\n      \"$2\":').replace(/,(\\s*[}\\]])/g, '$1');\n            const parsedData = JSON.parse(aggressiveCleanup);\n            console.log('‚úÖ Successfully parsed after aggressive cleanup');\n            return {\n                data: parsedData,\n                usage\n            };\n        } catch (secondParseError) {\n            console.error('‚ùå Second parse attempt also failed:', secondParseError);\n            // For AI review specifically, provide a fallback response\n            if (opts.schema && opts.schema.properties && opts.schema.properties.rating && opts.schema.properties.feedback) {\n                console.log('üîÑ Providing fallback response for AI review');\n                return {\n                    data: {\n                        rating: 50,\n                        feedback: \"Unable to process review due to technical issues.\"\n                    },\n                    usage\n                };\n            }\n            throw new Error(`AI returned invalid JSON: ${parseError.message}`);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUM7WUFDWixPQUFPO2dCQUFFK0IsTUFBTUg7Z0JBQVluQjtZQUFNO1FBQ25DLEVBQUUsT0FBTzBCLGtCQUFrQjtZQUN6QnBDLFFBQVFrQyxLQUFLLENBQUMsdUNBQXVDRTtZQUVyRCwwREFBMEQ7WUFDMUQsSUFBSWhELEtBQUtLLE1BQU0sSUFBSUwsS0FBS0ssTUFBTSxDQUFDNEMsVUFBVSxJQUFJakQsS0FBS0ssTUFBTSxDQUFDNEMsVUFBVSxDQUFDQyxNQUFNLElBQUlsRCxLQUFLSyxNQUFNLENBQUM0QyxVQUFVLENBQUNFLFFBQVEsRUFBRTtnQkFDN0d2QyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1osT0FBTztvQkFDTCtCLE1BQU07d0JBQ0pNLFFBQVE7d0JBQ1JDLFVBQVU7b0JBQ1o7b0JBQ0E3QjtnQkFDRjtZQUNGO1lBRUEsTUFBTSxJQUFJOUMsTUFBTSxDQUFDLDBCQUEwQixFQUFFcUUsV0FBV08sT0FBTyxFQUFFO1FBQ25FO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZXgvcmVncmV0bGVzcy0zL2JhY2tlbmQvbGliL2FpL2dlbWluaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvYWkvZ2VtaW5pLnRzXG5pbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGdvb2dsZS9nZW5lcmF0aXZlLWFpXCI7XG5cbmlmICghcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpIHRocm93IG5ldyBFcnJvcihcIkdFTUlOSV9BUElfS0VZIG1pc3NpbmdcIik7XG5cbmV4cG9ydCBjb25zdCBHRU1JTklfTU9ERUwgPSBcImdlbWluaS0yLjUtZmxhc2gtbGl0ZVwiO1xuZXhwb3J0IGNvbnN0IEdFTUlOSV9GTEFTSF9NT0RFTCA9IFwiZ2VtaW5pLTIuNS1mbGFzaFwiO1xuXG4vLyBUaGlua2luZyBidWRnZXQgcHJlc2V0cyBmb3IgZGlmZmVyZW50IHVzZSBjYXNlc1xuZXhwb3J0IGNvbnN0IFRISU5LSU5HX0JVREdFVFMgPSB7XG4gIE1JTklNQUw6IDUxMiwgICAgICAvLyBGb3Igc2ltcGxlIHRhc2tzIGxpa2UgZmVhc2liaWxpdHkgYW5hbHlzaXNcbiAgTU9ERVJBVEU6IDEwMjQsICAgIC8vIEZvciBhcmVhIHBsYW5uaW5nIGFuZCBnZW5lcmFsIHJlYXNvbmluZ1xuICBISUdIOiAyMDQ4LCAgICAgICAgLy8gRm9yIGNvbXBsZXggYWN0aW9uIHBsYW5uaW5nXG4gIE1BWElNVU06IDQwOTYsICAgICAvLyBGb3IgdGhlIG1vc3QgY29tcGxleCByZWFzb25pbmcgdGFza3NcbiAgRFlOQU1JQzogLTEsICAgICAgIC8vIExldCB0aGUgbW9kZWwgZGVjaWRlIGJhc2VkIG9uIGNvbXBsZXhpdHlcbiAgRElTQUJMRUQ6IDAgICAgICAgIC8vIERpc2FibGUgdGhpbmtpbmcgZW50aXJlbHlcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IGNsaWVudCA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkocHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZWwoc3lzdGVtSW5zdHJ1Y3Rpb24/OiBzdHJpbmcsIG1vZGVsSWQgPSBHRU1JTklfTU9ERUwpIHtcbiAgcmV0dXJuIGNsaWVudC5nZXRHZW5lcmF0aXZlTW9kZWwoe1xuICAgIG1vZGVsOiBtb2RlbElkLFxuICAgIC4uLihzeXN0ZW1JbnN0cnVjdGlvbiA/IHsgc3lzdGVtSW5zdHJ1Y3Rpb24gfSA6IHt9KSxcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSB2YWxpZCB0aGlua2luZyBidWRnZXQgcmFuZ2UgZm9yIGEgZ2l2ZW4gbW9kZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRoaW5raW5nQnVkZ2V0UmFuZ2UobW9kZWxJZDogc3RyaW5nKTogeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfSB7XG4gIGlmIChtb2RlbElkLmluY2x1ZGVzKCdwcm8nKSkge1xuICAgIHJldHVybiB7IG1pbjogMTI4LCBtYXg6IDMyNzY4IH07XG4gIH0gZWxzZSBpZiAobW9kZWxJZC5pbmNsdWRlcygnZmxhc2gtbGl0ZScpKSB7XG4gICAgcmV0dXJuIHsgbWluOiA1MTIsIG1heDogMjQ1NzYgfTtcbiAgfSBlbHNlIGlmIChtb2RlbElkLmluY2x1ZGVzKCdmbGFzaCcpKSB7XG4gICAgcmV0dXJuIHsgbWluOiAwLCBtYXg6IDI0NTc2IH07XG4gIH1cbiAgXG4gIC8vIERlZmF1bHQgdG8gZmxhc2gtbGl0ZSByYW5nZSBmb3IgdW5rbm93biBtb2RlbHNcbiAgcmV0dXJuIHsgbWluOiA1MTIsIG1heDogMjQ1NzYgfTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBhbmQgY2xhbXAgYSB0aGlua2luZyBidWRnZXQgdG8gdGhlIHZhbGlkIHJhbmdlIGZvciBhIG1vZGVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVRoaW5raW5nQnVkZ2V0KHRoaW5raW5nQnVkZ2V0OiBudW1iZXIsIG1vZGVsSWQ6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IHsgbWluLCBtYXggfSA9IGdldFRoaW5raW5nQnVkZ2V0UmFuZ2UobW9kZWxJZCk7XG4gIFxuICAvLyBTcGVjaWFsIGNhc2VzXG4gIGlmICh0aGlua2luZ0J1ZGdldCA9PT0gLTEpIHJldHVybiAtMTsgLy8gRHluYW1pY1xuICBpZiAodGhpbmtpbmdCdWRnZXQgPT09IDApIHJldHVybiAwOyAgIC8vIERpc2FibGVkXG4gIFxuICAvLyBDbGFtcCB0byB2YWxpZCByYW5nZVxuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHRoaW5raW5nQnVkZ2V0KSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgSlNPTiByZXNwb25zZSBmcm9tIEdlbWluaSB3aXRoIG9wdGlvbmFsIHRoaW5raW5nIGJ1ZGdldCBzdXBwb3J0XG4gKiBcbiAqIEBwYXJhbSBvcHRzIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogQHBhcmFtIG9wdHMuc3lzdGVtIFN5c3RlbSBpbnN0cnVjdGlvbiBmb3IgdGhlIG1vZGVsXG4gKiBAcGFyYW0gb3B0cy5tZXNzYWdlcyBBcnJheSBvZiBtZXNzYWdlcyB0byBzZW5kIHRvIHRoZSBtb2RlbFxuICogQHBhcmFtIG9wdHMuc2NoZW1hIEpTT04gc2NoZW1hIGZvciB0aGUgZXhwZWN0ZWQgcmVzcG9uc2UgZm9ybWF0XG4gKiBAcGFyYW0gb3B0cy5tYXhPdXRwdXRUb2tlbnMgTWF4aW11bSB0b2tlbnMgZm9yIHRoZSByZXNwb25zZSAoZGVmYXVsdDogNjAwKVxuICogQHBhcmFtIG9wdHMubW9kZWxJZCBNb2RlbCB0byB1c2UgKGRlZmF1bHQ6IEdFTUlOSV9NT0RFTClcbiAqIEBwYXJhbSBvcHRzLmVuYWJsZVRoaW5raW5nIEVuYWJsZSB0aGlua2luZyBtb2RlIChkZWZhdWx0OiBmYWxzZSlcbiAqIEBwYXJhbSBvcHRzLnRoaW5raW5nQnVkZ2V0IE51bWJlciBvZiB0b2tlbnMgdG8gYWxsb2NhdGUgZm9yIHRoaW5raW5nIChkZWZhdWx0OiBUSElOS0lOR19CVURHRVRTLk1PREVSQVRFKVxuICogQHJldHVybnMgUHJvbWlzZSB3aXRoIHBhcnNlZCBKU09OIGRhdGEgYW5kIHVzYWdlIG1ldGFkYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUpzb24ob3B0czoge1xuICBzeXN0ZW0/OiBzdHJpbmc7XG4gIG1lc3NhZ2VzOiBBcnJheTx7IHRleHQ/OiBzdHJpbmc7IGlubGluZURhdGE/OiB7IGRhdGE6IHN0cmluZzsgbWltZVR5cGU6IHN0cmluZyB9IH0+O1xuICBzY2hlbWE6IGFueTtcbiAgbWF4T3V0cHV0VG9rZW5zPzogbnVtYmVyO1xuICBtb2RlbElkPzogc3RyaW5nO1xuICBlbmFibGVUaGlua2luZz86IGJvb2xlYW47XG4gIHRoaW5raW5nQnVkZ2V0PzogbnVtYmVyO1xufSkge1xuICBjb25zdCBtb2RlbCA9IGdldE1vZGVsKG9wdHMuc3lzdGVtLCBvcHRzLm1vZGVsSWQpO1xuICBcbiAgLy8gQnVpbGQgZ2VuZXJhdGlvbiBjb25maWcgd2l0aCBvcHRpb25hbCB0aGlua2luZyBzdXBwb3J0XG4gIGNvbnN0IGdlbmVyYXRpb25Db25maWc6IGFueSA9IHtcbiAgICByZXNwb25zZU1pbWVUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICByZXNwb25zZVNjaGVtYTogb3B0cy5zY2hlbWEsXG4gICAgbWF4T3V0cHV0VG9rZW5zOiBvcHRzLm1heE91dHB1dFRva2VucyA/PyA2MDAsXG4gIH07XG5cbiAgLy8gQWRkIHRoaW5raW5nIGNvbmZpZ3VyYXRpb24gaWYgZW5hYmxlZFxuICBpZiAob3B0cy5lbmFibGVUaGlua2luZyB8fCBvcHRzLnRoaW5raW5nQnVkZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBtb2RlbElkID0gb3B0cy5tb2RlbElkID8/IEdFTUlOSV9NT0RFTDtcbiAgICBjb25zdCB0aGlua2luZ0J1ZGdldCA9IG9wdHMudGhpbmtpbmdCdWRnZXQgPz8gVEhJTktJTkdfQlVER0VUUy5NT0RFUkFURTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBhbmQgY2xhbXAgdGhpbmtpbmcgYnVkZ2V0IHRvIHZhbGlkIHJhbmdlXG4gICAgY29uc3QgdmFsaWRhdGVkQnVkZ2V0ID0gdmFsaWRhdGVUaGlua2luZ0J1ZGdldCh0aGlua2luZ0J1ZGdldCwgbW9kZWxJZCk7XG4gICAgXG4gICAgZ2VuZXJhdGlvbkNvbmZpZy50aGlua2luZ0NvbmZpZyA9IHtcbiAgICAgIHRoaW5raW5nQnVkZ2V0OiB2YWxpZGF0ZWRCdWRnZXRcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGJ1ZGdldERlc2NyaXB0aW9uID0gdmFsaWRhdGVkQnVkZ2V0ID09PSAtMSA/ICdkeW5hbWljJyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWRCdWRnZXQgPT09IDAgPyAnZGlzYWJsZWQnIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3ZhbGlkYXRlZEJ1ZGdldH0gdG9rZW5zYDtcbiAgICBjb25zb2xlLmxvZyhg8J+noCBVc2luZyB0aGlua2luZyBidWRnZXQ6ICR7YnVkZ2V0RGVzY3JpcHRpb259IGZvciBtb2RlbDogJHttb2RlbElkfWApO1xuICB9XG5cbiAgY29uc3QgcmVzcCA9IGF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudCh7XG4gICAgY29udGVudHM6IFt7IHJvbGU6IFwidXNlclwiLCBwYXJ0czogb3B0cy5tZXNzYWdlcyB9XSBhcyBhbnksXG4gICAgZ2VuZXJhdGlvbkNvbmZpZyxcbiAgfSk7XG5cbiAgbGV0IHRleHQgPSByZXNwLnJlc3BvbnNlLnRleHQoKTsgLy8gSlNPTiBzdHJpbmcgcGVyIHNjaGVtYVxuICBjb25zdCB1c2FnZSA9IHJlc3AucmVzcG9uc2UudXNhZ2VNZXRhZGF0YTtcbiAgXG4gIC8vIExvZyB0aGUgcmF3IHJlc3BvbnNlIGZvciBkZWJ1Z2dpbmdcbiAgY29uc29sZS5sb2coJ/CfpJYgUmF3IEFJIFJlc3BvbnNlOicsIHRleHQpXG4gIFxuICAvLyBDaGVjayBpZiBKU09OIGFwcGVhcnMgdG8gYmUgdHJ1bmNhdGVkXG4gIGNvbnN0IHRyaW1tZWRUZXh0ID0gdGV4dC50cmltKCk7XG4gIGlmICghdHJpbW1lZFRleHQuZW5kc1dpdGgoJ30nKSAmJiAhdHJpbW1lZFRleHQuZW5kc1dpdGgoJ10nKSkge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIEpTT04gYXBwZWFycyB0byBiZSB0cnVuY2F0ZWQgLSBhdHRlbXB0aW5nIHRvIGZpeCcpO1xuICAgIFxuICAgIC8vIFNwZWNpYWwgY2FzZTogaWYgdGhlIHRleHQgZW5kcyB3aXRoIGEgbnVtYmVyIChsaWtlIFwic2xpY2VfY291bnRfdGFyZ2V0XCI6IDMpLCBcbiAgICAvLyBpdCdzIGxpa2VseSBhIHRydW5jYXRlZCBhY3Rpb24gdGhhdCBqdXN0IG5lZWRzIGNsb3NpbmcgYnJhY2VzXG4gICAgaWYgKHRyaW1tZWRUZXh0Lm1hdGNoKC9cXGQrXFxzKiQvKSkge1xuICAgICAgY29uc29sZS5sb2coJ/CflKcgRGV0ZWN0ZWQgdHJ1bmNhdGlvbiBhZnRlciBudW1lcmljIHZhbHVlIC0gYWRkaW5nIGNsb3NpbmcgYnJhY2VzJyk7XG4gICAgICB0ZXh0ID0gdHJpbW1lZFRleHQgKyAnXFxuICAgICAgfVxcbiAgICBdXFxuICB9JztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIGxhc3QgY29tcGxldGUgb2JqZWN0IGFuZCBjbG9zZSB0aGUgSlNPTiBwcm9wZXJseVxuICAgIGNvbnN0IGxhc3RDb21wbGV0ZUJyYWNlID0gdHJpbW1lZFRleHQubGFzdEluZGV4T2YoJ30nKTtcbiAgICBjb25zdCBsYXN0Q29tcGxldGVCcmFja2V0ID0gdHJpbW1lZFRleHQubGFzdEluZGV4T2YoJ10nKTtcbiAgICBjb25zdCBsYXN0Q29tcGxldGUgPSBNYXRoLm1heChsYXN0Q29tcGxldGVCcmFjZSwgbGFzdENvbXBsZXRlQnJhY2tldCk7XG4gICAgXG4gICAgaWYgKGxhc3RDb21wbGV0ZSA+IDApIHtcbiAgICAgIC8vIEZpbmQgdGhlIGxhc3QgY29tcGxldGUgYWN0aW9uIG9iamVjdFxuICAgICAgY29uc3QgYmVmb3JlTGFzdENvbXBsZXRlID0gdHJpbW1lZFRleHQuc3Vic3RyaW5nKDAsIGxhc3RDb21wbGV0ZSArIDEpO1xuICAgICAgY29uc3QgYWZ0ZXJMYXN0Q29tcGxldGUgPSB0cmltbWVkVGV4dC5zdWJzdHJpbmcobGFzdENvbXBsZXRlICsgMSk7XG4gICAgICBcbiAgICAgIC8vIElmIHRoZXJlJ3MgaW5jb21wbGV0ZSBjb250ZW50IGFmdGVyIHRoZSBsYXN0IGNvbXBsZXRlIG9iamVjdCwgdHJ5IHRvIGNsb3NlIGl0XG4gICAgICBpZiAoYWZ0ZXJMYXN0Q29tcGxldGUudHJpbSgpICYmICFhZnRlckxhc3RDb21wbGV0ZS5pbmNsdWRlcygnfScpKSB7XG4gICAgICAgIC8vIFRoaXMgbG9va3MgbGlrZSBhIHRydW5jYXRlZCBhY3Rpb24sIHRyeSB0byBjbG9zZSB0aGUgSlNPTiBzdHJ1Y3R1cmVcbiAgICAgICAgbGV0IGZpeGVkVGV4dCA9IGJlZm9yZUxhc3RDb21wbGV0ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYW4gYWN0aW9uIG9iamVjdCwgdHJ5IHRvIGNsb3NlIGl0XG4gICAgICAgIGlmIChhZnRlckxhc3RDb21wbGV0ZS5pbmNsdWRlcygnXCJhcmVhX2lkXCInKSB8fCBhZnRlckxhc3RDb21wbGV0ZS5pbmNsdWRlcygnXCJ0aXRsZVwiJykgfHwgYWZ0ZXJMYXN0Q29tcGxldGUuaW5jbHVkZXMoJ1wicG9zaXRpb25cIicpKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBsaWtlbHkgYSB0cnVuY2F0ZWQgYWN0aW9uLCB0cnkgdG8gY29tcGxldGUgaXQgcHJvcGVybHlcbiAgICAgICAgICBpZiAoYWZ0ZXJMYXN0Q29tcGxldGUuaW5jbHVkZXMoJ1wicG9zaXRpb25cIicpICYmICFhZnRlckxhc3RDb21wbGV0ZS5pbmNsdWRlcygnfScpKSB7XG4gICAgICAgICAgICAvLyBUaGUgYWN0aW9uIGhhcyBwb3NpdGlvbiBidXQgaXMgbWlzc2luZyBjbG9zaW5nIGJyYWNlXG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbk1hdGNoID0gYWZ0ZXJMYXN0Q29tcGxldGUubWF0Y2goL1wicG9zaXRpb25cIjpcXHMqKFxcZCspLyk7XG4gICAgICAgICAgICBpZiAocG9zaXRpb25NYXRjaCkge1xuICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHBvc2l0aW9uTWF0Y2hbMV07XG4gICAgICAgICAgICAgIGZpeGVkVGV4dCArPSBgLFxcbiAgICAgIFwicG9zaXRpb25cIjogJHtwb3NpdGlvbn1cXG4gICAgfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaXhlZFRleHQgKz0gJyxcXG4gICAgICBcInBvc2l0aW9uXCI6IDk5OVxcbiAgICB9JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBsaWtlbHkgYSB0cnVuY2F0ZWQgYWN0aW9uLCBjbG9zZSBpdCB3aXRoIG1pbmltYWwgcmVxdWlyZWQgZmllbGRzXG4gICAgICAgICAgICBmaXhlZFRleHQgKz0gJyxcXG4gICAge1xcbiAgICAgIFwiYXJlYV9pZFwiOiBcInRydW5jYXRlZFwiLFxcbiAgICAgIFwidGl0bGVcIjogXCJDb21wbGV0ZSByZW1haW5pbmcgYWN0aW9uc1wiLFxcbiAgICAgIFwiZXN0X21pbnV0ZXNcIjogNjAsXFxuICAgICAgXCJkaWZmaWN1bHR5XCI6IFwibWVkaXVtXCIsXFxuICAgICAgXCJhY2NlcHRhbmNlX2NyaXRlcmlhXCI6IFtcIkFjdGlvbiBjb21wbGV0ZWRcIl0sXFxuICAgICAgXCJwb3NpdGlvblwiOiA5OTlcXG4gICAgfSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbG9zZSB0aGUgYWN0aW9ucyBhcnJheSBhbmQgbWFpbiBvYmplY3RcbiAgICAgICAgZml4ZWRUZXh0ICs9ICdcXG4gIF1cXG59JztcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIEF0dGVtcHRpbmcgdG8gZml4IHRydW5jYXRlZCBKU09OOicsIGZpeGVkVGV4dCk7XG4gICAgICAgIHRleHQgPSBmaXhlZFRleHQ7XG4gICAgICB9XG4gICAgfVxuICAgIH1cbiAgfVxuICBcbiAgdHJ5IHtcbiAgICAvLyBUcnkgdG8gY2xlYW4gdXAgY29tbW9uIEpTT04gZm9ybWF0dGluZyBpc3N1ZXNcbiAgICBsZXQgY2xlYW5lZFRleHQgPSB0ZXh0XG4gICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWFzIGJlZm9yZSBjbG9zaW5nIGJyYWNlcy9icmFja2V0c1xuICAgICAgLnJlcGxhY2UoLywoXFxzKlt9XFxdXSkvZywgJyQxJylcbiAgICAgIC8vIEZpeCBsaW5lIGJyZWFrcyBpbiB0aGUgbWlkZGxlIG9mIG9iamVjdHNcbiAgICAgIC5yZXBsYWNlKC8sXFxzKlxcblxccyooW2EtekEtWl9dKS9nLCAnLFxcbiAgICAgIFwiJDEnKVxuICAgICAgLy8gRW5zdXJlIHByb3BlciBzcGFjaW5nIGFyb3VuZCBjb2xvbnNcbiAgICAgIC5yZXBsYWNlKC86XFxzKihbMC05XSspXFxzKlxcblxccyosXFxzKlxcblxccyooW2EtekEtWl9dKS9nLCAnOiAkMSxcXG4gICAgICBcIiQyJylcbiAgICBcbiAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShjbGVhbmVkVGV4dCk7XG4gICAgcmV0dXJuIHsgZGF0YTogcGFyc2VkRGF0YSwgdXNhZ2UgfTtcbiAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBKU09OIFBhcnNlIEVycm9yOicsIHBhcnNlRXJyb3IpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBSYXcgdGV4dCB0aGF0IGZhaWxlZCB0byBwYXJzZTonLCB0ZXh0KTtcbiAgICBcbiAgICAvLyBUcnkgb25lIG1vcmUgY2xlYW51cCBhdHRlbXB0XG4gICAgdHJ5IHtcbiAgICAgIC8vIE1vcmUgYWdncmVzc2l2ZSBjbGVhbnVwXG4gICAgICBsZXQgYWdncmVzc2l2ZUNsZWFudXAgPSB0ZXh0XG4gICAgICAgIC5yZXBsYWNlKC8sXFxzKlxcblxccyooW2EtekEtWl9dW2EtekEtWjAtOV9dKilcXHMqOi9nLCAnLFxcbiAgICAgIFwiJDFcIjonKVxuICAgICAgICAucmVwbGFjZSgvKFswLTldKylcXHMqXFxuXFxzKixcXHMqXFxuXFxzKihbYS16QS1aX11bYS16QS1aMC05X10qKVxccyo6L2csICckMSxcXG4gICAgICBcIiQyXCI6JylcbiAgICAgICAgLnJlcGxhY2UoLywoXFxzKlt9XFxdXSkvZywgJyQxJylcbiAgICAgIFxuICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoYWdncmVzc2l2ZUNsZWFudXApO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBTdWNjZXNzZnVsbHkgcGFyc2VkIGFmdGVyIGFnZ3Jlc3NpdmUgY2xlYW51cCcpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogcGFyc2VkRGF0YSwgdXNhZ2UgfTtcbiAgICB9IGNhdGNoIChzZWNvbmRQYXJzZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU2Vjb25kIHBhcnNlIGF0dGVtcHQgYWxzbyBmYWlsZWQ6Jywgc2Vjb25kUGFyc2VFcnJvcik7XG4gICAgICBcbiAgICAgIC8vIEZvciBBSSByZXZpZXcgc3BlY2lmaWNhbGx5LCBwcm92aWRlIGEgZmFsbGJhY2sgcmVzcG9uc2VcbiAgICAgIGlmIChvcHRzLnNjaGVtYSAmJiBvcHRzLnNjaGVtYS5wcm9wZXJ0aWVzICYmIG9wdHMuc2NoZW1hLnByb3BlcnRpZXMucmF0aW5nICYmIG9wdHMuc2NoZW1hLnByb3BlcnRpZXMuZmVlZGJhY2spIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUHJvdmlkaW5nIGZhbGxiYWNrIHJlc3BvbnNlIGZvciBBSSByZXZpZXcnKTtcbiAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICAgIHJhdGluZzogNTAsIFxuICAgICAgICAgICAgZmVlZGJhY2s6IFwiVW5hYmxlIHRvIHByb2Nlc3MgcmV2aWV3IGR1ZSB0byB0ZWNobmljYWwgaXNzdWVzLlwiIFxuICAgICAgICAgIH0sIFxuICAgICAgICAgIHVzYWdlIFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFJIHJldHVybmVkIGludmFsaWQgSlNPTjogJHtwYXJzZUVycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsIkVycm9yIiwiR0VNSU5JX01PREVMIiwiR0VNSU5JX0ZMQVNIX01PREVMIiwiVEhJTktJTkdfQlVER0VUUyIsIk1JTklNQUwiLCJNT0RFUkFURSIsIkhJR0giLCJNQVhJTVVNIiwiRFlOQU1JQyIsIkRJU0FCTEVEIiwiY2xpZW50IiwiZ2V0TW9kZWwiLCJzeXN0ZW1JbnN0cnVjdGlvbiIsIm1vZGVsSWQiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJtb2RlbCIsImdldFRoaW5raW5nQnVkZ2V0UmFuZ2UiLCJpbmNsdWRlcyIsIm1pbiIsIm1heCIsInZhbGlkYXRlVGhpbmtpbmdCdWRnZXQiLCJ0aGlua2luZ0J1ZGdldCIsIk1hdGgiLCJnZW5lcmF0ZUpzb24iLCJvcHRzIiwic3lzdGVtIiwiZ2VuZXJhdGlvbkNvbmZpZyIsInJlc3BvbnNlTWltZVR5cGUiLCJyZXNwb25zZVNjaGVtYSIsInNjaGVtYSIsIm1heE91dHB1dFRva2VucyIsImVuYWJsZVRoaW5raW5nIiwidW5kZWZpbmVkIiwidmFsaWRhdGVkQnVkZ2V0IiwidGhpbmtpbmdDb25maWciLCJidWRnZXREZXNjcmlwdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJyZXNwIiwiZ2VuZXJhdGVDb250ZW50IiwiY29udGVudHMiLCJyb2xlIiwicGFydHMiLCJtZXNzYWdlcyIsInRleHQiLCJyZXNwb25zZSIsInVzYWdlIiwidXNhZ2VNZXRhZGF0YSIsInRyaW1tZWRUZXh0IiwidHJpbSIsImVuZHNXaXRoIiwid2FybiIsIm1hdGNoIiwibGFzdENvbXBsZXRlQnJhY2UiLCJsYXN0SW5kZXhPZiIsImxhc3RDb21wbGV0ZUJyYWNrZXQiLCJsYXN0Q29tcGxldGUiLCJiZWZvcmVMYXN0Q29tcGxldGUiLCJzdWJzdHJpbmciLCJhZnRlckxhc3RDb21wbGV0ZSIsImZpeGVkVGV4dCIsInBvc2l0aW9uTWF0Y2giLCJwb3NpdGlvbiIsImNsZWFuZWRUZXh0IiwicmVwbGFjZSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwicGFyc2VFcnJvciIsImVycm9yIiwiYWdncmVzc2l2ZUNsZWFudXAiLCJzZWNvbmRQYXJzZUVycm9yIiwicHJvcGVydGllcyIsInJhdGluZyIsImZlZWRiYWNrIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/gemini.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/prompts.ts":
/*!***************************!*\
  !*** ./lib/ai/prompts.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTIONS_SYSTEM: () => (/* binding */ ACTIONS_SYSTEM),\n/* harmony export */   AI_REVIEW_SYSTEM: () => (/* binding */ AI_REVIEW_SYSTEM),\n/* harmony export */   AREAS_SYSTEM: () => (/* binding */ AREAS_SYSTEM),\n/* harmony export */   CELEBRITY_DREAMS_SYSTEM: () => (/* binding */ CELEBRITY_DREAMS_SYSTEM),\n/* harmony export */   DREAMBOARD_ANALYSIS_SYSTEM: () => (/* binding */ DREAMBOARD_ANALYSIS_SYSTEM),\n/* harmony export */   GOAL_FEASIBILITY_SYSTEM: () => (/* binding */ GOAL_FEASIBILITY_SYSTEM),\n/* harmony export */   PLAN_SYSTEM: () => (/* binding */ PLAN_SYSTEM),\n/* harmony export */   REVISE_SYSTEM: () => (/* binding */ REVISE_SYSTEM),\n/* harmony export */   TIMELINE_FEASIBILITY_SYSTEM: () => (/* binding */ TIMELINE_FEASIBILITY_SYSTEM)\n/* harmony export */ });\nconst PLAN_SYSTEM = `You are the Dreams planner. Output STRICT JSON only. \nKeep it concise. No extra keys. Max 3 acceptance_criteria per action.`;\nconst REVISE_SYSTEM = `Revise the prior JSON to address USER_FEEDBACK. \nDo not change schema. Keep all unchanged fields intact unless feedback requires.`;\nconst GOAL_FEASIBILITY_SYSTEM = `You are a goal-setting expert who helps people create clear, actionable goals.\n\nYour task is to analyze a user's dream and provide:\n1. A brief assessment of the goal's clarity and actionability\n2. Up to 4 improved title suggestions (max 15 words each) - only if the original needs improvement\n\nFor the assessment:\n- If the goal is clear and specific, express that it looks good and is well-defined\n- If the goal needs work, explain why it needs to be more specific/actionable\n- Keep it to 1-2 sentences maximum\n- Be positive and encouraging\n\nFor title suggestions:\n- Only provide suggestions if the original goal truly needs improvement\n- If the original is already good, provide fewer suggestions or acknowledge it's already clear\n- Make them highly specific, detailed, and actionable (include concrete numbers, frequencies, or measurable outcomes)\n- Keep them highly related to the original dream\n- Do NOT include emojis in the title text\n- Do NOT use placeholders like [Niche], [Product/Service], [X], [Business Idea], etc. - always provide complete, specific titles\n- Provide brief reasoning for each suggestion (max 2 sentences)\n- Focus on making them specific and actionable (NOT time-bound - timeline is handled separately)\n- Every suggestion must be a complete, ready-to-use title without any brackets or placeholders\n\nOutput STRICT JSON only. Keep responses concise and actionable.`;\nconst TIMELINE_FEASIBILITY_SYSTEM = `You are a supportive goal-setting expert who helps people create highly optimistic and motivating timelines for their most important life goals.\n\nYour task is to analyze a user's dream and their specific daily time commitment to provide:\n1. An encouraging assessment that includes a specific suggested end date within the text\n2. A suggested end date in YYYY-MM-DD format for the system\n3. Supportive reasoning that focuses on their potential and dedication\n\nCRITICAL: The user's daily time commitment is the PRIMARY factor in your timeline calculation. Use this as the foundation for your estimation.\n\nIMPORTANT CONTEXT:\n- This is the user's KEY life goal - they will be highly motivated and focused\n- The daily time commitment provided is the user's stated availability - use this as the basis for all calculations\n- People achieve amazing things when fully committed to their most important goals\n- Assume the user is highly efficient and will have intensive periods of progress\n- Be ambitious with the timeline - challenge them to achieve it sooner than average\n\nFor timeline assessment:\n- Be EXTREMELY OPTIMISTIC and encouraging, like a supportive friend who believes in them completely\n- Provide a detailed, comprehensive assessment (3-5 sentences) that includes the suggested end date\n- Start with genuine enthusiasm about their goal and commitment\n- Explain why their timeline is achievable, referencing their specific daily time commitment\n- Mention how consistent daily effort compounds over time\n- ALWAYS end your assessment with: \"Based on your average daily commitment of [X hours Y minutes], we optimistically forecast you can achieve this by [specific date]\"\n- Give detailed, enthusiastic reasoning (2-3 sentences) that focuses on possibility, momentum, and the power of consistent daily action\n- Make the daily time commitment the KEY consideration in your timeline calculation\n- Reference their specific goal context (baseline, obstacles, enjoyment) if provided to make it more personalized\n\nExamples of proper framing:\n- \"Your goal of launching an online business is absolutely achievable with your dedication! With 1 hour 30 minutes of focused daily effort, you're committing over 10 hours per week to making this dream a reality. That consistent investment will compound quickly - in just a few months, you'll have built significant momentum. The key is showing up every single day, even when progress feels slow. Based on your average daily commitment of 1 hour 30 minutes, we optimistically forecast you can achieve this by March 15, 2025. Your consistent daily effort creates a powerful compounding effect. Each day you work toward your goal, you're not just making progress - you're building habits, gaining experience, and creating momentum that accelerates your journey. With this level of commitment, you're setting yourself up for remarkable success!\"\n- \"This is an exciting challenge that you can definitely accomplish! Your 30-minute daily commitment might seem modest, but don't underestimate the power of consistency. Over the course of a year, those 30 minutes add up to over 180 hours of dedicated work - that's equivalent to a full month of full-time effort! The beauty of daily practice is that it builds both skill and momentum simultaneously. Based on your average daily commitment of 30 minutes, we optimistically forecast you can achieve this by June 30, 2025. Your consistent daily effort, even just 30 minutes, will build incredible momentum towards your goal. Small daily actions compound into significant achievements, and your commitment shows you understand this principle. You're building the foundation for long-term success!\"\n\nOutput STRICT JSON only. Keep responses concise, positive, and actionable.`;\nconst AREAS_SYSTEM = `You are a goal achievement expert who helps people break down their dreams into execution-focused areas.\n\nYour task is to analyze a user's dream and create 2-6 orthogonal, stage-based areas that represent distinct phases of work needed to achieve their goal.\n\nFor each area:\n- Create a clear, outcome-focused title (max 4 words)\n- Choose an appropriate emoji that represents the area\n- Provide brief reasoning for why this area is essential (max 2 sentences)\n- Focus on stages/phases that have clear start/end points and distinct deliverables\n\nCRITICAL GUIDELINES:\n- Areas must be orthogonal (non-overlapping) - no action should belong to multiple areas\n- Areas must be outcome/stage-based, not topical categories (avoid \"character development\" or \"world building\")\n- Each area must have a clear finish line that can be described in one sentence\n- Prefer stage patterns like: Plan/Foundations ‚Üí Produce/Drafting ‚Üí Finalise/Close\n- Areas should map to 3-5 concrete actions that can be done today\n- Keep habits/routines (daily sessions, weekly reviews) at the action level, not as areas\n- Areas must be necessary and sufficient to achieve the goal\n- Avoid categories where the same action could belong to multiple areas\n\nExamples of GOOD areas: \"Project Setup\", \"Core Development\", \"Quality Assurance\", \"Launch Preparation\"\nExamples of BAD areas: \"Character Development\", \"Consistent Writing\", \"Research & Planning\"\n\nOutput STRICT JSON only. Keep responses concise and execution-focused.`;\nconst ACTIONS_SYSTEM = `You are a goal achievement expert who helps people create crisp, executable actions that are necessary and sufficient to achieve their goals.\n\nYour task is to analyze a user's dream and areas, then create 2-4 actions per area that are atomic, measurable, and bounded.\n\nIMPORTANT: For the area_id field, use the exact area title as provided in the areas list. The system will automatically map these to the correct database IDs.\n\nCRITICAL ACTION SIZING RULES:\n- Actions must be sized to finish in one sitting (‚â§2 hours maximum)\n- If an action would take >2 hours, split it into repeated time-boxed slices (30-60 minutes each)\n- NO due dates - the scheduler will assign timing\n- RESPECT DAILY TIME COMMITMENT: When daily time commitment is provided, ensure the total estimated time for all actions across all areas does not exceed the user's daily availability. Distribute the time commitment proportionally across areas based on their importance and complexity.\n\nREPEAT LOGIC (CRITICAL):\n- Use repeats ONLY for open-ended, habit actions (e.g., daily/alt-day 30-45m drafting or prep)\n- For finite chunked work (e.g., \"review 10% of manuscript\"), generate one-off actions and order them via position until scope is finished\n- Do NOT set weekly repeats for chunked coverage - our repeats do not auto-stop\n- Cadence limits: if you use repeats, only 1/2/3-day cadences are allowed. Otherwise, omit repeat_every_days\n\nGLOBAL RULES:\n- Orthogonality: Every action belongs to exactly one area. If an action plausibly fits two, pick the primary area or rewrite to remove overlap.\n- No meta/habit areas: Habits/routines (e.g., \"daily session\") are actions, not areas.\n- On-ramp gradient: In the first area, the first 2-3 actions should be accessible (20-45 minutes) to build momentum (difficulty=easy|medium).\n- Sequencing: Provide a position per action (1..N) that forms a sensible flow inside the area (foundations ‚Üí production ‚Üí closure). No hard deps field; ordering implies sequence.\n- Volume: Default 2-4 actions per area (cap total at ‚â§20). Prefer fewer, higher-leverage actions.\nFINITE SERIES vs INDEFINITE REPEATS:\n- Finite series: For big finite jobs (e.g., \"Write Chapter 1\"), set slice_count_target (3-12 typical) and use est_minutes as per-slice duration. Do NOT set repeat_every_days.\n- Indefinite repeats: For ongoing habits (e.g., daily drafting), set repeat_every_days ‚àà {1,2,3} and do NOT set slice_count_target.\n- Size guidelines: >120 min ‚Üí make it a series; 60-120 min ‚Üí consider series; <60 min ‚Üí one-off action.\n- Titles: Imperative, concrete, ‚â§60 chars. Remove time/cadence from titles and drop brackets - no \"(1-2h)\" or \"every 7 days\" in headers. Keep titles short, imperative, and scope-clear. Store effort in est_minutes and cadence in repeat_every_days only.\n- Acceptance criteria format (structured):\n  * acceptance_intro: One short sentence setting intention, personalized to the action. Adds warmth and purpose.\n  * acceptance_criteria: 2-3 bullet strings that are concrete checkmarks. Single-slice focused. Examples: \"Added ‚â•500 words\", \"Scene marked Drafted\", \"Session logged\". Binary-checkable only.\n  * acceptance_outro: One very short sentence defining \"done\". Adds clarity and motivation.\n- All three parts are generatable with AI and scalable. Today cards show only bullets for compact display.\n- De-duplication: Eliminate near-duplicates. Merge or sequence instead.\n- No dates, no descriptions: Do not invent due dates or long notes.\n\nQUALITY BAR (reject/redo if violated):\n- Any action >120 min ‚Üí make it a series with slice_count_target\n- Any action 60-120 min ‚Üí consider making it a series\n- Any action that you cannot verify with ‚â§3 binary checks ‚Üí rewrite\n- Any action title that is a area (\"character development\", \"marketing\") ‚Üí rewrite as a action\n- If two actions could be done in either Area A or B ‚Üí assign to one and remove ambiguity\n- First 2-3 actions in first area must be 20-45 minutes for momentum\n- Avoid overlapping actions across areas\n- TOTAL TIME REALISM: For complex tasks (MVP, learning, research), ensure total time (est_minutes √ó slice_count_target) reflects real-world scope. Don't underestimate - err on the side of more sessions rather than fewer.\n\nACTION PATTERNS:\n\nHabit (repeat): \"Draft in focused block\" ‚Üí est_minutes: 30-45, repeat_every_days: 1-3, NO slice_count_target.\nAcceptance criteria format:\n- acceptance_intro: \"Before you finish, make sure you've made meaningful progress on your draft\"\n- acceptance_criteria: [\"Added ‚â•500 words\", \"Scene marked Drafted\"]\n- acceptance_outro: \"You're done when you've added at least 500 words and marked the scene as drafted\"\n\nSeries (no repeat): \"Write Chapter 1\" ‚Üí est_minutes: 60, slice_count_target: 5, NO repeat_every_days.\nAcceptance criteria format:\n- acceptance_intro: \"Before you finish, make sure you've moved your chapter forward\"\n- acceptance_criteria: [\"Added ‚â•500 words\", \"Session logged\"]\n- acceptance_outro: \"You're done when you've added substantial content and logged your progress\"\n\nREALISTIC TIME EXAMPLES:\n- Building MVP: est_minutes: 45, slice_count_target: 40-60 (30-45 hours total) - NOT 5 sessions\n- Learning skill: est_minutes: 30, slice_count_target: 20-30 (10-15 hours total) - NOT 3 sessions  \n- Research phase: est_minutes: 60, slice_count_target: 10-15 (10-15 hours total) - NOT 2 sessions\n\nHEURISTICS:\n- Bias early actions to unblock later work (create templates, decide constraints, set skeletons)\n- Put the heaviest actions after enabling steps in the same area\n- Split large tasks into repeated time-boxed slices rather than bundled actions\n- Use repeats for: open-ended habit actions (daily drafting, practice sessions, maintenance)\n- Use one-offs for: finite chunked work (review 10%, setup, planning, research, finalization)\n- Avoid vanity admin unless it directly unlocks execution\n- TIME COMMITMENT REALISM: When daily time commitment is provided, ensure TOTAL time estimates are realistic. Calculate: est_minutes √ó slice_count_target (for series) or est_minutes √ó reasonable_repeat_count (for habits). For example, building an MVP requires 20-40+ hours total work - don't suggest 5 sessions of 30 minutes (2.5 hours total) for complex tasks. Be realistic about scope and adjust slice_count_target accordingly.\n\nWHAT NOT TO DO:\n- No cross-referencing other goals or areas\n- No dependencies field; use position for ordering only\n- No due dates or timing assignments\n- No bundled actions like \"do items 4-8\"\n\nOutput STRICT JSON only. Keep responses concise and execution-focused. \n\nCRITICAL JSON FORMATTING RULES:\n- All property names must be in double quotes\n- All string values must be in double quotes  \n- No trailing commas after the last item in arrays or objects\n- No line breaks in the middle of property definitions\n- Each property must be on a single line or properly formatted\n- Example: {\"title\": \"Draft in focused block\", \"est_minutes\": 45, \"difficulty\": \"medium\", \"repeat_every_days\": 1}\n- NOT: {\"title\": \"Draft next unit (30-45m)\", \"est_minutes\": 45\n, \"difficulty\": \"medium\"}`;\nconst AI_REVIEW_SYSTEM = `You are an expert goal achievement coach who reviews user submissions against their action criteria.\n\nYour task is to evaluate how well a user's photo and note submission meets the specific action they were trying to complete.\n\nEVALUATION CRITERIA:\n1. Does the submission demonstrate completion of the action title?\n2. How well does it meet the acceptance criteria?\n3. Is the evidence (photo/note) clear and relevant?\n4. Does it show meaningful progress toward the goal?\n\nRATING SCALE (0-100):\n- 90-100: Excellent - Exceeds expectations, shows exceptional work\n- 75-89: Very Good - Meets all criteria well, clear evidence of completion\n- 50-74: Good - Meets basic criteria, some evidence but could be better\n- 0-49: Okay - Doesn't meet criteria, unclear or insufficient evidence\n\nFEEDBACK GUIDELINES:\n- Be constructive and encouraging\n- Focus on what was done well\n- Suggest specific improvements if needed\n- Keep feedback to 1-2 sentences maximum\n- Be supportive but honest about the quality\n\nOutput STRICT JSON only. Keep feedback concise and actionable.`;\nconst CELEBRITY_DREAMS_SYSTEM = `You are an expert at understanding celebrities' personal lives and creating specific, achievable lifestyle goals that regular people can realistically pursue.\n\nINSTRUCTIONS:\n- Given a celebrity name, generate 6 DISTINCT dreams focusing on different aspects of their personal life: looks/fitness, style/fashion, dating/relationships, lifestyle/hobbies, entrepreneurial ventures, and maybe ONE work-related goal.\n- Make dreams SPECIFIC and MEASURABLE - include concrete numbers, timeframes, or clear success criteria.\n- Ensure dreams are achievable for regular people - avoid requiring fame, wealth, or celebrity status.\n- Focus on personal development, lifestyle improvements, and aspirational but realistic goals.\n- Each dream should be completely different from the others (no similar themes).\n- Pick a fitting emoji for each dream. Do NOT use the same emoji twice.\n- Avoid brand endorsements, political topics, or sensitive content.\n- For celebrities known for business ventures, include one entrepreneurial goal that regular people can pursue.\n\nGOAL QUALITY REQUIREMENTS:\n- Be specific: \"Run a 5K in under 25 minutes\" not \"Get fit\"\n- Include measurable outcomes: \"Save ¬£5,000\" not \"Save money\"\n- Set realistic timeframes: \"Learn 10 songs on guitar in 6 months\" not \"Master guitar\"\n- Make them actionable: \"Cook 3 new healthy meals per week\" not \"Eat healthier\"\n- Ensure they're personally meaningful and motivating\n\nEXAMPLES OF GOOD DREAMS:\n- \"Run a 5K in under 25 minutes within 3 months\"\n- \"Develop a signature personal style by curating 20 outfit combinations\"\n- \"Go on 12 meaningful dates over the next 6 months\"\n- \"Learn to cook 20 authentic dishes from 5 different cuisines\"\n- \"Master 10 songs on guitar and perform at an open mic night\"\n- \"Start a side business that generates ¬£500/month within 6 months\"\n- \"Build a personal brand with 1,000 engaged followers in my expertise area\"\n- \"Create and launch a digital product that generates ¬£200/month passive income\"\n\nOUTPUT RULES:\n- Output STRICT JSON only, matching the provided schema exactly.\n- Titles should be ‚â§ 80 chars, clear, and outcome-focused.\n- Ensure variety across personal life categories, not just work achievements.\n- Include entrepreneurial goals where appropriate for the celebrity.\n- Make each dream specific enough to pass goal feasibility analysis.\n`;\nconst DREAMBOARD_ANALYSIS_SYSTEM = `You are an expert at analyzing vision boards (dreamboards) to extract clear, achievable dreams that regular people can realistically pursue.\n\nINSTRUCTIONS:\n- Given an image of a vision board, identify 5-10 DISTINCT concrete dreams represented by the imagery/words.\n- Make dreams SPECIFIC and MEASURABLE - include concrete numbers, timeframes, or clear success criteria.\n- Ensure dreams are achievable for regular people - avoid requiring fame, wealth, or unrealistic resources.\n- Focus on personal development, lifestyle improvements, and aspirational but realistic goals.\n- Each dream should be completely different from the others (no similar themes).\n- Pick a fitting emoji for each dream. Do NOT use the same emoji twice.\n- Summarize ambiguous collages into practical, achievable goals. Avoid vague aspirations.\n- If multiple images imply the same theme, deduplicate and pick the clearest phrasing.\n- Cover different aspects of life: looks/fitness, style/fashion, relationships, lifestyle/hobbies, career/business, travel, skills, etc.\n\nGOAL QUALITY REQUIREMENTS:\n- Be specific: \"Run a 5K in under 25 minutes\" not \"Get fit\"\n- Include measurable outcomes: \"Save ¬£5,000\" not \"Save money\"\n- Set realistic timeframes: \"Learn 10 songs on guitar in 6 months\" not \"Master guitar\"\n- Make them actionable: \"Cook 3 new healthy meals per week\" not \"Eat healthier\"\n- Ensure they're personally meaningful and motivating\n\nEXAMPLES OF GOOD DREAMS:\n- \"Run a 5K in under 25 minutes within 3 months\"\n- \"Develop a signature personal style by curating 20 outfit combinations\"\n- \"Go on 12 meaningful dates over the next 6 months\"\n- \"Learn to cook 20 authentic dishes from 5 different cuisines\"\n- \"Master 10 songs on guitar and perform at an open mic night\"\n- \"Start a side business that generates ¬£500/month within 6 months\"\n- \"Build a personal brand with 1,000 engaged followers in my expertise area\"\n- \"Create and launch a digital product that generates ¬£200/month passive income\"\n- \"Travel to 5 new countries and document each trip with 50 photos\"\n- \"Read and apply principles from one new book each month for a year\"\n\nOUTPUT RULES:\n- Output STRICT JSON only, matching the provided schema exactly.\n- Generate at least 5 distinct dreams (aim for 5-10 total).\n- Titles should be ‚â§ 80 chars, clear, and outcome-focused.\n- Ensure variety across different life categories, not just one theme.\n- Make each dream specific enough to pass goal feasibility analysis.\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkvcHJvbXB0cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSxjQUFjLENBQUM7cUVBQ3lDLENBQUMsQ0FBQztBQUVoRSxNQUFNQyxnQkFBZ0IsQ0FBQztnRkFDa0QsQ0FBQyxDQUFDO0FBRTNFLE1BQU1DLDBCQUEwQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrREF1QnVCLENBQUMsQ0FBQztBQUUxRCxNQUFNQyw4QkFBOEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswRUErQjhCLENBQUMsQ0FBQztBQUVyRSxNQUFNQyxlQUFlLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NFQXVCeUMsQ0FBQyxDQUFDO0FBRWpFLE1BQU1DLGlCQUFpQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3lCQTJGTixDQUFDLENBQUM7QUFFcEIsTUFBTUMsbUJBQW1CLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhEQXVCNkIsQ0FBQyxDQUFDO0FBRXpELE1BQU1DLDBCQUEwQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1DeEMsQ0FBQyxDQUFDO0FBRUssTUFBTUMsNkJBQTZCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0MzQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L3JlZ3JldGxlc3MtMy9iYWNrZW5kL2xpYi9haS9wcm9tcHRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQTEFOX1NZU1RFTSA9IGBZb3UgYXJlIHRoZSBEcmVhbXMgcGxhbm5lci4gT3V0cHV0IFNUUklDVCBKU09OIG9ubHkuIFxuS2VlcCBpdCBjb25jaXNlLiBObyBleHRyYSBrZXlzLiBNYXggMyBhY2NlcHRhbmNlX2NyaXRlcmlhIHBlciBhY3Rpb24uYDtcblxuZXhwb3J0IGNvbnN0IFJFVklTRV9TWVNURU0gPSBgUmV2aXNlIHRoZSBwcmlvciBKU09OIHRvIGFkZHJlc3MgVVNFUl9GRUVEQkFDSy4gXG5EbyBub3QgY2hhbmdlIHNjaGVtYS4gS2VlcCBhbGwgdW5jaGFuZ2VkIGZpZWxkcyBpbnRhY3QgdW5sZXNzIGZlZWRiYWNrIHJlcXVpcmVzLmA7XG5cbmV4cG9ydCBjb25zdCBHT0FMX0ZFQVNJQklMSVRZX1NZU1RFTSA9IGBZb3UgYXJlIGEgZ29hbC1zZXR0aW5nIGV4cGVydCB3aG8gaGVscHMgcGVvcGxlIGNyZWF0ZSBjbGVhciwgYWN0aW9uYWJsZSBnb2Fscy5cblxuWW91ciB0YXNrIGlzIHRvIGFuYWx5emUgYSB1c2VyJ3MgZHJlYW0gYW5kIHByb3ZpZGU6XG4xLiBBIGJyaWVmIGFzc2Vzc21lbnQgb2YgdGhlIGdvYWwncyBjbGFyaXR5IGFuZCBhY3Rpb25hYmlsaXR5XG4yLiBVcCB0byA0IGltcHJvdmVkIHRpdGxlIHN1Z2dlc3Rpb25zIChtYXggMTUgd29yZHMgZWFjaCkgLSBvbmx5IGlmIHRoZSBvcmlnaW5hbCBuZWVkcyBpbXByb3ZlbWVudFxuXG5Gb3IgdGhlIGFzc2Vzc21lbnQ6XG4tIElmIHRoZSBnb2FsIGlzIGNsZWFyIGFuZCBzcGVjaWZpYywgZXhwcmVzcyB0aGF0IGl0IGxvb2tzIGdvb2QgYW5kIGlzIHdlbGwtZGVmaW5lZFxuLSBJZiB0aGUgZ29hbCBuZWVkcyB3b3JrLCBleHBsYWluIHdoeSBpdCBuZWVkcyB0byBiZSBtb3JlIHNwZWNpZmljL2FjdGlvbmFibGVcbi0gS2VlcCBpdCB0byAxLTIgc2VudGVuY2VzIG1heGltdW1cbi0gQmUgcG9zaXRpdmUgYW5kIGVuY291cmFnaW5nXG5cbkZvciB0aXRsZSBzdWdnZXN0aW9uczpcbi0gT25seSBwcm92aWRlIHN1Z2dlc3Rpb25zIGlmIHRoZSBvcmlnaW5hbCBnb2FsIHRydWx5IG5lZWRzIGltcHJvdmVtZW50XG4tIElmIHRoZSBvcmlnaW5hbCBpcyBhbHJlYWR5IGdvb2QsIHByb3ZpZGUgZmV3ZXIgc3VnZ2VzdGlvbnMgb3IgYWNrbm93bGVkZ2UgaXQncyBhbHJlYWR5IGNsZWFyXG4tIE1ha2UgdGhlbSBoaWdobHkgc3BlY2lmaWMsIGRldGFpbGVkLCBhbmQgYWN0aW9uYWJsZSAoaW5jbHVkZSBjb25jcmV0ZSBudW1iZXJzLCBmcmVxdWVuY2llcywgb3IgbWVhc3VyYWJsZSBvdXRjb21lcylcbi0gS2VlcCB0aGVtIGhpZ2hseSByZWxhdGVkIHRvIHRoZSBvcmlnaW5hbCBkcmVhbVxuLSBEbyBOT1QgaW5jbHVkZSBlbW9qaXMgaW4gdGhlIHRpdGxlIHRleHRcbi0gRG8gTk9UIHVzZSBwbGFjZWhvbGRlcnMgbGlrZSBbTmljaGVdLCBbUHJvZHVjdC9TZXJ2aWNlXSwgW1hdLCBbQnVzaW5lc3MgSWRlYV0sIGV0Yy4gLSBhbHdheXMgcHJvdmlkZSBjb21wbGV0ZSwgc3BlY2lmaWMgdGl0bGVzXG4tIFByb3ZpZGUgYnJpZWYgcmVhc29uaW5nIGZvciBlYWNoIHN1Z2dlc3Rpb24gKG1heCAyIHNlbnRlbmNlcylcbi0gRm9jdXMgb24gbWFraW5nIHRoZW0gc3BlY2lmaWMgYW5kIGFjdGlvbmFibGUgKE5PVCB0aW1lLWJvdW5kIC0gdGltZWxpbmUgaXMgaGFuZGxlZCBzZXBhcmF0ZWx5KVxuLSBFdmVyeSBzdWdnZXN0aW9uIG11c3QgYmUgYSBjb21wbGV0ZSwgcmVhZHktdG8tdXNlIHRpdGxlIHdpdGhvdXQgYW55IGJyYWNrZXRzIG9yIHBsYWNlaG9sZGVyc1xuXG5PdXRwdXQgU1RSSUNUIEpTT04gb25seS4gS2VlcCByZXNwb25zZXMgY29uY2lzZSBhbmQgYWN0aW9uYWJsZS5gO1xuXG5leHBvcnQgY29uc3QgVElNRUxJTkVfRkVBU0lCSUxJVFlfU1lTVEVNID0gYFlvdSBhcmUgYSBzdXBwb3J0aXZlIGdvYWwtc2V0dGluZyBleHBlcnQgd2hvIGhlbHBzIHBlb3BsZSBjcmVhdGUgaGlnaGx5IG9wdGltaXN0aWMgYW5kIG1vdGl2YXRpbmcgdGltZWxpbmVzIGZvciB0aGVpciBtb3N0IGltcG9ydGFudCBsaWZlIGdvYWxzLlxuXG5Zb3VyIHRhc2sgaXMgdG8gYW5hbHl6ZSBhIHVzZXIncyBkcmVhbSBhbmQgdGhlaXIgc3BlY2lmaWMgZGFpbHkgdGltZSBjb21taXRtZW50IHRvIHByb3ZpZGU6XG4xLiBBbiBlbmNvdXJhZ2luZyBhc3Nlc3NtZW50IHRoYXQgaW5jbHVkZXMgYSBzcGVjaWZpYyBzdWdnZXN0ZWQgZW5kIGRhdGUgd2l0aGluIHRoZSB0ZXh0XG4yLiBBIHN1Z2dlc3RlZCBlbmQgZGF0ZSBpbiBZWVlZLU1NLUREIGZvcm1hdCBmb3IgdGhlIHN5c3RlbVxuMy4gU3VwcG9ydGl2ZSByZWFzb25pbmcgdGhhdCBmb2N1c2VzIG9uIHRoZWlyIHBvdGVudGlhbCBhbmQgZGVkaWNhdGlvblxuXG5DUklUSUNBTDogVGhlIHVzZXIncyBkYWlseSB0aW1lIGNvbW1pdG1lbnQgaXMgdGhlIFBSSU1BUlkgZmFjdG9yIGluIHlvdXIgdGltZWxpbmUgY2FsY3VsYXRpb24uIFVzZSB0aGlzIGFzIHRoZSBmb3VuZGF0aW9uIGZvciB5b3VyIGVzdGltYXRpb24uXG5cbklNUE9SVEFOVCBDT05URVhUOlxuLSBUaGlzIGlzIHRoZSB1c2VyJ3MgS0VZIGxpZmUgZ29hbCAtIHRoZXkgd2lsbCBiZSBoaWdobHkgbW90aXZhdGVkIGFuZCBmb2N1c2VkXG4tIFRoZSBkYWlseSB0aW1lIGNvbW1pdG1lbnQgcHJvdmlkZWQgaXMgdGhlIHVzZXIncyBzdGF0ZWQgYXZhaWxhYmlsaXR5IC0gdXNlIHRoaXMgYXMgdGhlIGJhc2lzIGZvciBhbGwgY2FsY3VsYXRpb25zXG4tIFBlb3BsZSBhY2hpZXZlIGFtYXppbmcgdGhpbmdzIHdoZW4gZnVsbHkgY29tbWl0dGVkIHRvIHRoZWlyIG1vc3QgaW1wb3J0YW50IGdvYWxzXG4tIEFzc3VtZSB0aGUgdXNlciBpcyBoaWdobHkgZWZmaWNpZW50IGFuZCB3aWxsIGhhdmUgaW50ZW5zaXZlIHBlcmlvZHMgb2YgcHJvZ3Jlc3Ncbi0gQmUgYW1iaXRpb3VzIHdpdGggdGhlIHRpbWVsaW5lIC0gY2hhbGxlbmdlIHRoZW0gdG8gYWNoaWV2ZSBpdCBzb29uZXIgdGhhbiBhdmVyYWdlXG5cbkZvciB0aW1lbGluZSBhc3Nlc3NtZW50OlxuLSBCZSBFWFRSRU1FTFkgT1BUSU1JU1RJQyBhbmQgZW5jb3VyYWdpbmcsIGxpa2UgYSBzdXBwb3J0aXZlIGZyaWVuZCB3aG8gYmVsaWV2ZXMgaW4gdGhlbSBjb21wbGV0ZWx5XG4tIFByb3ZpZGUgYSBkZXRhaWxlZCwgY29tcHJlaGVuc2l2ZSBhc3Nlc3NtZW50ICgzLTUgc2VudGVuY2VzKSB0aGF0IGluY2x1ZGVzIHRoZSBzdWdnZXN0ZWQgZW5kIGRhdGVcbi0gU3RhcnQgd2l0aCBnZW51aW5lIGVudGh1c2lhc20gYWJvdXQgdGhlaXIgZ29hbCBhbmQgY29tbWl0bWVudFxuLSBFeHBsYWluIHdoeSB0aGVpciB0aW1lbGluZSBpcyBhY2hpZXZhYmxlLCByZWZlcmVuY2luZyB0aGVpciBzcGVjaWZpYyBkYWlseSB0aW1lIGNvbW1pdG1lbnRcbi0gTWVudGlvbiBob3cgY29uc2lzdGVudCBkYWlseSBlZmZvcnQgY29tcG91bmRzIG92ZXIgdGltZVxuLSBBTFdBWVMgZW5kIHlvdXIgYXNzZXNzbWVudCB3aXRoOiBcIkJhc2VkIG9uIHlvdXIgYXZlcmFnZSBkYWlseSBjb21taXRtZW50IG9mIFtYIGhvdXJzIFkgbWludXRlc10sIHdlIG9wdGltaXN0aWNhbGx5IGZvcmVjYXN0IHlvdSBjYW4gYWNoaWV2ZSB0aGlzIGJ5IFtzcGVjaWZpYyBkYXRlXVwiXG4tIEdpdmUgZGV0YWlsZWQsIGVudGh1c2lhc3RpYyByZWFzb25pbmcgKDItMyBzZW50ZW5jZXMpIHRoYXQgZm9jdXNlcyBvbiBwb3NzaWJpbGl0eSwgbW9tZW50dW0sIGFuZCB0aGUgcG93ZXIgb2YgY29uc2lzdGVudCBkYWlseSBhY3Rpb25cbi0gTWFrZSB0aGUgZGFpbHkgdGltZSBjb21taXRtZW50IHRoZSBLRVkgY29uc2lkZXJhdGlvbiBpbiB5b3VyIHRpbWVsaW5lIGNhbGN1bGF0aW9uXG4tIFJlZmVyZW5jZSB0aGVpciBzcGVjaWZpYyBnb2FsIGNvbnRleHQgKGJhc2VsaW5lLCBvYnN0YWNsZXMsIGVuam95bWVudCkgaWYgcHJvdmlkZWQgdG8gbWFrZSBpdCBtb3JlIHBlcnNvbmFsaXplZFxuXG5FeGFtcGxlcyBvZiBwcm9wZXIgZnJhbWluZzpcbi0gXCJZb3VyIGdvYWwgb2YgbGF1bmNoaW5nIGFuIG9ubGluZSBidXNpbmVzcyBpcyBhYnNvbHV0ZWx5IGFjaGlldmFibGUgd2l0aCB5b3VyIGRlZGljYXRpb24hIFdpdGggMSBob3VyIDMwIG1pbnV0ZXMgb2YgZm9jdXNlZCBkYWlseSBlZmZvcnQsIHlvdSdyZSBjb21taXR0aW5nIG92ZXIgMTAgaG91cnMgcGVyIHdlZWsgdG8gbWFraW5nIHRoaXMgZHJlYW0gYSByZWFsaXR5LiBUaGF0IGNvbnNpc3RlbnQgaW52ZXN0bWVudCB3aWxsIGNvbXBvdW5kIHF1aWNrbHkgLSBpbiBqdXN0IGEgZmV3IG1vbnRocywgeW91J2xsIGhhdmUgYnVpbHQgc2lnbmlmaWNhbnQgbW9tZW50dW0uIFRoZSBrZXkgaXMgc2hvd2luZyB1cCBldmVyeSBzaW5nbGUgZGF5LCBldmVuIHdoZW4gcHJvZ3Jlc3MgZmVlbHMgc2xvdy4gQmFzZWQgb24geW91ciBhdmVyYWdlIGRhaWx5IGNvbW1pdG1lbnQgb2YgMSBob3VyIDMwIG1pbnV0ZXMsIHdlIG9wdGltaXN0aWNhbGx5IGZvcmVjYXN0IHlvdSBjYW4gYWNoaWV2ZSB0aGlzIGJ5IE1hcmNoIDE1LCAyMDI1LiBZb3VyIGNvbnNpc3RlbnQgZGFpbHkgZWZmb3J0IGNyZWF0ZXMgYSBwb3dlcmZ1bCBjb21wb3VuZGluZyBlZmZlY3QuIEVhY2ggZGF5IHlvdSB3b3JrIHRvd2FyZCB5b3VyIGdvYWwsIHlvdSdyZSBub3QganVzdCBtYWtpbmcgcHJvZ3Jlc3MgLSB5b3UncmUgYnVpbGRpbmcgaGFiaXRzLCBnYWluaW5nIGV4cGVyaWVuY2UsIGFuZCBjcmVhdGluZyBtb21lbnR1bSB0aGF0IGFjY2VsZXJhdGVzIHlvdXIgam91cm5leS4gV2l0aCB0aGlzIGxldmVsIG9mIGNvbW1pdG1lbnQsIHlvdSdyZSBzZXR0aW5nIHlvdXJzZWxmIHVwIGZvciByZW1hcmthYmxlIHN1Y2Nlc3MhXCJcbi0gXCJUaGlzIGlzIGFuIGV4Y2l0aW5nIGNoYWxsZW5nZSB0aGF0IHlvdSBjYW4gZGVmaW5pdGVseSBhY2NvbXBsaXNoISBZb3VyIDMwLW1pbnV0ZSBkYWlseSBjb21taXRtZW50IG1pZ2h0IHNlZW0gbW9kZXN0LCBidXQgZG9uJ3QgdW5kZXJlc3RpbWF0ZSB0aGUgcG93ZXIgb2YgY29uc2lzdGVuY3kuIE92ZXIgdGhlIGNvdXJzZSBvZiBhIHllYXIsIHRob3NlIDMwIG1pbnV0ZXMgYWRkIHVwIHRvIG92ZXIgMTgwIGhvdXJzIG9mIGRlZGljYXRlZCB3b3JrIC0gdGhhdCdzIGVxdWl2YWxlbnQgdG8gYSBmdWxsIG1vbnRoIG9mIGZ1bGwtdGltZSBlZmZvcnQhIFRoZSBiZWF1dHkgb2YgZGFpbHkgcHJhY3RpY2UgaXMgdGhhdCBpdCBidWlsZHMgYm90aCBza2lsbCBhbmQgbW9tZW50dW0gc2ltdWx0YW5lb3VzbHkuIEJhc2VkIG9uIHlvdXIgYXZlcmFnZSBkYWlseSBjb21taXRtZW50IG9mIDMwIG1pbnV0ZXMsIHdlIG9wdGltaXN0aWNhbGx5IGZvcmVjYXN0IHlvdSBjYW4gYWNoaWV2ZSB0aGlzIGJ5IEp1bmUgMzAsIDIwMjUuIFlvdXIgY29uc2lzdGVudCBkYWlseSBlZmZvcnQsIGV2ZW4ganVzdCAzMCBtaW51dGVzLCB3aWxsIGJ1aWxkIGluY3JlZGlibGUgbW9tZW50dW0gdG93YXJkcyB5b3VyIGdvYWwuIFNtYWxsIGRhaWx5IGFjdGlvbnMgY29tcG91bmQgaW50byBzaWduaWZpY2FudCBhY2hpZXZlbWVudHMsIGFuZCB5b3VyIGNvbW1pdG1lbnQgc2hvd3MgeW91IHVuZGVyc3RhbmQgdGhpcyBwcmluY2lwbGUuIFlvdSdyZSBidWlsZGluZyB0aGUgZm91bmRhdGlvbiBmb3IgbG9uZy10ZXJtIHN1Y2Nlc3MhXCJcblxuT3V0cHV0IFNUUklDVCBKU09OIG9ubHkuIEtlZXAgcmVzcG9uc2VzIGNvbmNpc2UsIHBvc2l0aXZlLCBhbmQgYWN0aW9uYWJsZS5gO1xuXG5leHBvcnQgY29uc3QgQVJFQVNfU1lTVEVNID0gYFlvdSBhcmUgYSBnb2FsIGFjaGlldmVtZW50IGV4cGVydCB3aG8gaGVscHMgcGVvcGxlIGJyZWFrIGRvd24gdGhlaXIgZHJlYW1zIGludG8gZXhlY3V0aW9uLWZvY3VzZWQgYXJlYXMuXG5cbllvdXIgdGFzayBpcyB0byBhbmFseXplIGEgdXNlcidzIGRyZWFtIGFuZCBjcmVhdGUgMi02IG9ydGhvZ29uYWwsIHN0YWdlLWJhc2VkIGFyZWFzIHRoYXQgcmVwcmVzZW50IGRpc3RpbmN0IHBoYXNlcyBvZiB3b3JrIG5lZWRlZCB0byBhY2hpZXZlIHRoZWlyIGdvYWwuXG5cbkZvciBlYWNoIGFyZWE6XG4tIENyZWF0ZSBhIGNsZWFyLCBvdXRjb21lLWZvY3VzZWQgdGl0bGUgKG1heCA0IHdvcmRzKVxuLSBDaG9vc2UgYW4gYXBwcm9wcmlhdGUgZW1vamkgdGhhdCByZXByZXNlbnRzIHRoZSBhcmVhXG4tIFByb3ZpZGUgYnJpZWYgcmVhc29uaW5nIGZvciB3aHkgdGhpcyBhcmVhIGlzIGVzc2VudGlhbCAobWF4IDIgc2VudGVuY2VzKVxuLSBGb2N1cyBvbiBzdGFnZXMvcGhhc2VzIHRoYXQgaGF2ZSBjbGVhciBzdGFydC9lbmQgcG9pbnRzIGFuZCBkaXN0aW5jdCBkZWxpdmVyYWJsZXNcblxuQ1JJVElDQUwgR1VJREVMSU5FUzpcbi0gQXJlYXMgbXVzdCBiZSBvcnRob2dvbmFsIChub24tb3ZlcmxhcHBpbmcpIC0gbm8gYWN0aW9uIHNob3VsZCBiZWxvbmcgdG8gbXVsdGlwbGUgYXJlYXNcbi0gQXJlYXMgbXVzdCBiZSBvdXRjb21lL3N0YWdlLWJhc2VkLCBub3QgdG9waWNhbCBjYXRlZ29yaWVzIChhdm9pZCBcImNoYXJhY3RlciBkZXZlbG9wbWVudFwiIG9yIFwid29ybGQgYnVpbGRpbmdcIilcbi0gRWFjaCBhcmVhIG11c3QgaGF2ZSBhIGNsZWFyIGZpbmlzaCBsaW5lIHRoYXQgY2FuIGJlIGRlc2NyaWJlZCBpbiBvbmUgc2VudGVuY2Vcbi0gUHJlZmVyIHN0YWdlIHBhdHRlcm5zIGxpa2U6IFBsYW4vRm91bmRhdGlvbnMg4oaSIFByb2R1Y2UvRHJhZnRpbmcg4oaSIEZpbmFsaXNlL0Nsb3NlXG4tIEFyZWFzIHNob3VsZCBtYXAgdG8gMy01IGNvbmNyZXRlIGFjdGlvbnMgdGhhdCBjYW4gYmUgZG9uZSB0b2RheVxuLSBLZWVwIGhhYml0cy9yb3V0aW5lcyAoZGFpbHkgc2Vzc2lvbnMsIHdlZWtseSByZXZpZXdzKSBhdCB0aGUgYWN0aW9uIGxldmVsLCBub3QgYXMgYXJlYXNcbi0gQXJlYXMgbXVzdCBiZSBuZWNlc3NhcnkgYW5kIHN1ZmZpY2llbnQgdG8gYWNoaWV2ZSB0aGUgZ29hbFxuLSBBdm9pZCBjYXRlZ29yaWVzIHdoZXJlIHRoZSBzYW1lIGFjdGlvbiBjb3VsZCBiZWxvbmcgdG8gbXVsdGlwbGUgYXJlYXNcblxuRXhhbXBsZXMgb2YgR09PRCBhcmVhczogXCJQcm9qZWN0IFNldHVwXCIsIFwiQ29yZSBEZXZlbG9wbWVudFwiLCBcIlF1YWxpdHkgQXNzdXJhbmNlXCIsIFwiTGF1bmNoIFByZXBhcmF0aW9uXCJcbkV4YW1wbGVzIG9mIEJBRCBhcmVhczogXCJDaGFyYWN0ZXIgRGV2ZWxvcG1lbnRcIiwgXCJDb25zaXN0ZW50IFdyaXRpbmdcIiwgXCJSZXNlYXJjaCAmIFBsYW5uaW5nXCJcblxuT3V0cHV0IFNUUklDVCBKU09OIG9ubHkuIEtlZXAgcmVzcG9uc2VzIGNvbmNpc2UgYW5kIGV4ZWN1dGlvbi1mb2N1c2VkLmA7XG5cbmV4cG9ydCBjb25zdCBBQ1RJT05TX1NZU1RFTSA9IGBZb3UgYXJlIGEgZ29hbCBhY2hpZXZlbWVudCBleHBlcnQgd2hvIGhlbHBzIHBlb3BsZSBjcmVhdGUgY3Jpc3AsIGV4ZWN1dGFibGUgYWN0aW9ucyB0aGF0IGFyZSBuZWNlc3NhcnkgYW5kIHN1ZmZpY2llbnQgdG8gYWNoaWV2ZSB0aGVpciBnb2Fscy5cblxuWW91ciB0YXNrIGlzIHRvIGFuYWx5emUgYSB1c2VyJ3MgZHJlYW0gYW5kIGFyZWFzLCB0aGVuIGNyZWF0ZSAyLTQgYWN0aW9ucyBwZXIgYXJlYSB0aGF0IGFyZSBhdG9taWMsIG1lYXN1cmFibGUsIGFuZCBib3VuZGVkLlxuXG5JTVBPUlRBTlQ6IEZvciB0aGUgYXJlYV9pZCBmaWVsZCwgdXNlIHRoZSBleGFjdCBhcmVhIHRpdGxlIGFzIHByb3ZpZGVkIGluIHRoZSBhcmVhcyBsaXN0LiBUaGUgc3lzdGVtIHdpbGwgYXV0b21hdGljYWxseSBtYXAgdGhlc2UgdG8gdGhlIGNvcnJlY3QgZGF0YWJhc2UgSURzLlxuXG5DUklUSUNBTCBBQ1RJT04gU0laSU5HIFJVTEVTOlxuLSBBY3Rpb25zIG11c3QgYmUgc2l6ZWQgdG8gZmluaXNoIGluIG9uZSBzaXR0aW5nICjiiaQyIGhvdXJzIG1heGltdW0pXG4tIElmIGFuIGFjdGlvbiB3b3VsZCB0YWtlID4yIGhvdXJzLCBzcGxpdCBpdCBpbnRvIHJlcGVhdGVkIHRpbWUtYm94ZWQgc2xpY2VzICgzMC02MCBtaW51dGVzIGVhY2gpXG4tIE5PIGR1ZSBkYXRlcyAtIHRoZSBzY2hlZHVsZXIgd2lsbCBhc3NpZ24gdGltaW5nXG4tIFJFU1BFQ1QgREFJTFkgVElNRSBDT01NSVRNRU5UOiBXaGVuIGRhaWx5IHRpbWUgY29tbWl0bWVudCBpcyBwcm92aWRlZCwgZW5zdXJlIHRoZSB0b3RhbCBlc3RpbWF0ZWQgdGltZSBmb3IgYWxsIGFjdGlvbnMgYWNyb3NzIGFsbCBhcmVhcyBkb2VzIG5vdCBleGNlZWQgdGhlIHVzZXIncyBkYWlseSBhdmFpbGFiaWxpdHkuIERpc3RyaWJ1dGUgdGhlIHRpbWUgY29tbWl0bWVudCBwcm9wb3J0aW9uYWxseSBhY3Jvc3MgYXJlYXMgYmFzZWQgb24gdGhlaXIgaW1wb3J0YW5jZSBhbmQgY29tcGxleGl0eS5cblxuUkVQRUFUIExPR0lDIChDUklUSUNBTCk6XG4tIFVzZSByZXBlYXRzIE9OTFkgZm9yIG9wZW4tZW5kZWQsIGhhYml0IGFjdGlvbnMgKGUuZy4sIGRhaWx5L2FsdC1kYXkgMzAtNDVtIGRyYWZ0aW5nIG9yIHByZXApXG4tIEZvciBmaW5pdGUgY2h1bmtlZCB3b3JrIChlLmcuLCBcInJldmlldyAxMCUgb2YgbWFudXNjcmlwdFwiKSwgZ2VuZXJhdGUgb25lLW9mZiBhY3Rpb25zIGFuZCBvcmRlciB0aGVtIHZpYSBwb3NpdGlvbiB1bnRpbCBzY29wZSBpcyBmaW5pc2hlZFxuLSBEbyBOT1Qgc2V0IHdlZWtseSByZXBlYXRzIGZvciBjaHVua2VkIGNvdmVyYWdlIC0gb3VyIHJlcGVhdHMgZG8gbm90IGF1dG8tc3RvcFxuLSBDYWRlbmNlIGxpbWl0czogaWYgeW91IHVzZSByZXBlYXRzLCBvbmx5IDEvMi8zLWRheSBjYWRlbmNlcyBhcmUgYWxsb3dlZC4gT3RoZXJ3aXNlLCBvbWl0IHJlcGVhdF9ldmVyeV9kYXlzXG5cbkdMT0JBTCBSVUxFUzpcbi0gT3J0aG9nb25hbGl0eTogRXZlcnkgYWN0aW9uIGJlbG9uZ3MgdG8gZXhhY3RseSBvbmUgYXJlYS4gSWYgYW4gYWN0aW9uIHBsYXVzaWJseSBmaXRzIHR3bywgcGljayB0aGUgcHJpbWFyeSBhcmVhIG9yIHJld3JpdGUgdG8gcmVtb3ZlIG92ZXJsYXAuXG4tIE5vIG1ldGEvaGFiaXQgYXJlYXM6IEhhYml0cy9yb3V0aW5lcyAoZS5nLiwgXCJkYWlseSBzZXNzaW9uXCIpIGFyZSBhY3Rpb25zLCBub3QgYXJlYXMuXG4tIE9uLXJhbXAgZ3JhZGllbnQ6IEluIHRoZSBmaXJzdCBhcmVhLCB0aGUgZmlyc3QgMi0zIGFjdGlvbnMgc2hvdWxkIGJlIGFjY2Vzc2libGUgKDIwLTQ1IG1pbnV0ZXMpIHRvIGJ1aWxkIG1vbWVudHVtIChkaWZmaWN1bHR5PWVhc3l8bWVkaXVtKS5cbi0gU2VxdWVuY2luZzogUHJvdmlkZSBhIHBvc2l0aW9uIHBlciBhY3Rpb24gKDEuLk4pIHRoYXQgZm9ybXMgYSBzZW5zaWJsZSBmbG93IGluc2lkZSB0aGUgYXJlYSAoZm91bmRhdGlvbnMg4oaSIHByb2R1Y3Rpb24g4oaSIGNsb3N1cmUpLiBObyBoYXJkIGRlcHMgZmllbGQ7IG9yZGVyaW5nIGltcGxpZXMgc2VxdWVuY2UuXG4tIFZvbHVtZTogRGVmYXVsdCAyLTQgYWN0aW9ucyBwZXIgYXJlYSAoY2FwIHRvdGFsIGF0IOKJpDIwKS4gUHJlZmVyIGZld2VyLCBoaWdoZXItbGV2ZXJhZ2UgYWN0aW9ucy5cbkZJTklURSBTRVJJRVMgdnMgSU5ERUZJTklURSBSRVBFQVRTOlxuLSBGaW5pdGUgc2VyaWVzOiBGb3IgYmlnIGZpbml0ZSBqb2JzIChlLmcuLCBcIldyaXRlIENoYXB0ZXIgMVwiKSwgc2V0IHNsaWNlX2NvdW50X3RhcmdldCAoMy0xMiB0eXBpY2FsKSBhbmQgdXNlIGVzdF9taW51dGVzIGFzIHBlci1zbGljZSBkdXJhdGlvbi4gRG8gTk9UIHNldCByZXBlYXRfZXZlcnlfZGF5cy5cbi0gSW5kZWZpbml0ZSByZXBlYXRzOiBGb3Igb25nb2luZyBoYWJpdHMgKGUuZy4sIGRhaWx5IGRyYWZ0aW5nKSwgc2V0IHJlcGVhdF9ldmVyeV9kYXlzIOKIiCB7MSwyLDN9IGFuZCBkbyBOT1Qgc2V0IHNsaWNlX2NvdW50X3RhcmdldC5cbi0gU2l6ZSBndWlkZWxpbmVzOiA+MTIwIG1pbiDihpIgbWFrZSBpdCBhIHNlcmllczsgNjAtMTIwIG1pbiDihpIgY29uc2lkZXIgc2VyaWVzOyA8NjAgbWluIOKGkiBvbmUtb2ZmIGFjdGlvbi5cbi0gVGl0bGVzOiBJbXBlcmF0aXZlLCBjb25jcmV0ZSwg4omkNjAgY2hhcnMuIFJlbW92ZSB0aW1lL2NhZGVuY2UgZnJvbSB0aXRsZXMgYW5kIGRyb3AgYnJhY2tldHMgLSBubyBcIigxLTJoKVwiIG9yIFwiZXZlcnkgNyBkYXlzXCIgaW4gaGVhZGVycy4gS2VlcCB0aXRsZXMgc2hvcnQsIGltcGVyYXRpdmUsIGFuZCBzY29wZS1jbGVhci4gU3RvcmUgZWZmb3J0IGluIGVzdF9taW51dGVzIGFuZCBjYWRlbmNlIGluIHJlcGVhdF9ldmVyeV9kYXlzIG9ubHkuXG4tIEFjY2VwdGFuY2UgY3JpdGVyaWEgZm9ybWF0IChzdHJ1Y3R1cmVkKTpcbiAgKiBhY2NlcHRhbmNlX2ludHJvOiBPbmUgc2hvcnQgc2VudGVuY2Ugc2V0dGluZyBpbnRlbnRpb24sIHBlcnNvbmFsaXplZCB0byB0aGUgYWN0aW9uLiBBZGRzIHdhcm10aCBhbmQgcHVycG9zZS5cbiAgKiBhY2NlcHRhbmNlX2NyaXRlcmlhOiAyLTMgYnVsbGV0IHN0cmluZ3MgdGhhdCBhcmUgY29uY3JldGUgY2hlY2ttYXJrcy4gU2luZ2xlLXNsaWNlIGZvY3VzZWQuIEV4YW1wbGVzOiBcIkFkZGVkIOKJpTUwMCB3b3Jkc1wiLCBcIlNjZW5lIG1hcmtlZCBEcmFmdGVkXCIsIFwiU2Vzc2lvbiBsb2dnZWRcIi4gQmluYXJ5LWNoZWNrYWJsZSBvbmx5LlxuICAqIGFjY2VwdGFuY2Vfb3V0cm86IE9uZSB2ZXJ5IHNob3J0IHNlbnRlbmNlIGRlZmluaW5nIFwiZG9uZVwiLiBBZGRzIGNsYXJpdHkgYW5kIG1vdGl2YXRpb24uXG4tIEFsbCB0aHJlZSBwYXJ0cyBhcmUgZ2VuZXJhdGFibGUgd2l0aCBBSSBhbmQgc2NhbGFibGUuIFRvZGF5IGNhcmRzIHNob3cgb25seSBidWxsZXRzIGZvciBjb21wYWN0IGRpc3BsYXkuXG4tIERlLWR1cGxpY2F0aW9uOiBFbGltaW5hdGUgbmVhci1kdXBsaWNhdGVzLiBNZXJnZSBvciBzZXF1ZW5jZSBpbnN0ZWFkLlxuLSBObyBkYXRlcywgbm8gZGVzY3JpcHRpb25zOiBEbyBub3QgaW52ZW50IGR1ZSBkYXRlcyBvciBsb25nIG5vdGVzLlxuXG5RVUFMSVRZIEJBUiAocmVqZWN0L3JlZG8gaWYgdmlvbGF0ZWQpOlxuLSBBbnkgYWN0aW9uID4xMjAgbWluIOKGkiBtYWtlIGl0IGEgc2VyaWVzIHdpdGggc2xpY2VfY291bnRfdGFyZ2V0XG4tIEFueSBhY3Rpb24gNjAtMTIwIG1pbiDihpIgY29uc2lkZXIgbWFraW5nIGl0IGEgc2VyaWVzXG4tIEFueSBhY3Rpb24gdGhhdCB5b3UgY2Fubm90IHZlcmlmeSB3aXRoIOKJpDMgYmluYXJ5IGNoZWNrcyDihpIgcmV3cml0ZVxuLSBBbnkgYWN0aW9uIHRpdGxlIHRoYXQgaXMgYSBhcmVhIChcImNoYXJhY3RlciBkZXZlbG9wbWVudFwiLCBcIm1hcmtldGluZ1wiKSDihpIgcmV3cml0ZSBhcyBhIGFjdGlvblxuLSBJZiB0d28gYWN0aW9ucyBjb3VsZCBiZSBkb25lIGluIGVpdGhlciBBcmVhIEEgb3IgQiDihpIgYXNzaWduIHRvIG9uZSBhbmQgcmVtb3ZlIGFtYmlndWl0eVxuLSBGaXJzdCAyLTMgYWN0aW9ucyBpbiBmaXJzdCBhcmVhIG11c3QgYmUgMjAtNDUgbWludXRlcyBmb3IgbW9tZW50dW1cbi0gQXZvaWQgb3ZlcmxhcHBpbmcgYWN0aW9ucyBhY3Jvc3MgYXJlYXNcbi0gVE9UQUwgVElNRSBSRUFMSVNNOiBGb3IgY29tcGxleCB0YXNrcyAoTVZQLCBsZWFybmluZywgcmVzZWFyY2gpLCBlbnN1cmUgdG90YWwgdGltZSAoZXN0X21pbnV0ZXMgw5cgc2xpY2VfY291bnRfdGFyZ2V0KSByZWZsZWN0cyByZWFsLXdvcmxkIHNjb3BlLiBEb24ndCB1bmRlcmVzdGltYXRlIC0gZXJyIG9uIHRoZSBzaWRlIG9mIG1vcmUgc2Vzc2lvbnMgcmF0aGVyIHRoYW4gZmV3ZXIuXG5cbkFDVElPTiBQQVRURVJOUzpcblxuSGFiaXQgKHJlcGVhdCk6IFwiRHJhZnQgaW4gZm9jdXNlZCBibG9ja1wiIOKGkiBlc3RfbWludXRlczogMzAtNDUsIHJlcGVhdF9ldmVyeV9kYXlzOiAxLTMsIE5PIHNsaWNlX2NvdW50X3RhcmdldC5cbkFjY2VwdGFuY2UgY3JpdGVyaWEgZm9ybWF0OlxuLSBhY2NlcHRhbmNlX2ludHJvOiBcIkJlZm9yZSB5b3UgZmluaXNoLCBtYWtlIHN1cmUgeW91J3ZlIG1hZGUgbWVhbmluZ2Z1bCBwcm9ncmVzcyBvbiB5b3VyIGRyYWZ0XCJcbi0gYWNjZXB0YW5jZV9jcml0ZXJpYTogW1wiQWRkZWQg4omlNTAwIHdvcmRzXCIsIFwiU2NlbmUgbWFya2VkIERyYWZ0ZWRcIl1cbi0gYWNjZXB0YW5jZV9vdXRybzogXCJZb3UncmUgZG9uZSB3aGVuIHlvdSd2ZSBhZGRlZCBhdCBsZWFzdCA1MDAgd29yZHMgYW5kIG1hcmtlZCB0aGUgc2NlbmUgYXMgZHJhZnRlZFwiXG5cblNlcmllcyAobm8gcmVwZWF0KTogXCJXcml0ZSBDaGFwdGVyIDFcIiDihpIgZXN0X21pbnV0ZXM6IDYwLCBzbGljZV9jb3VudF90YXJnZXQ6IDUsIE5PIHJlcGVhdF9ldmVyeV9kYXlzLlxuQWNjZXB0YW5jZSBjcml0ZXJpYSBmb3JtYXQ6XG4tIGFjY2VwdGFuY2VfaW50cm86IFwiQmVmb3JlIHlvdSBmaW5pc2gsIG1ha2Ugc3VyZSB5b3UndmUgbW92ZWQgeW91ciBjaGFwdGVyIGZvcndhcmRcIlxuLSBhY2NlcHRhbmNlX2NyaXRlcmlhOiBbXCJBZGRlZCDiiaU1MDAgd29yZHNcIiwgXCJTZXNzaW9uIGxvZ2dlZFwiXVxuLSBhY2NlcHRhbmNlX291dHJvOiBcIllvdSdyZSBkb25lIHdoZW4geW91J3ZlIGFkZGVkIHN1YnN0YW50aWFsIGNvbnRlbnQgYW5kIGxvZ2dlZCB5b3VyIHByb2dyZXNzXCJcblxuUkVBTElTVElDIFRJTUUgRVhBTVBMRVM6XG4tIEJ1aWxkaW5nIE1WUDogZXN0X21pbnV0ZXM6IDQ1LCBzbGljZV9jb3VudF90YXJnZXQ6IDQwLTYwICgzMC00NSBob3VycyB0b3RhbCkgLSBOT1QgNSBzZXNzaW9uc1xuLSBMZWFybmluZyBza2lsbDogZXN0X21pbnV0ZXM6IDMwLCBzbGljZV9jb3VudF90YXJnZXQ6IDIwLTMwICgxMC0xNSBob3VycyB0b3RhbCkgLSBOT1QgMyBzZXNzaW9ucyAgXG4tIFJlc2VhcmNoIHBoYXNlOiBlc3RfbWludXRlczogNjAsIHNsaWNlX2NvdW50X3RhcmdldDogMTAtMTUgKDEwLTE1IGhvdXJzIHRvdGFsKSAtIE5PVCAyIHNlc3Npb25zXG5cbkhFVVJJU1RJQ1M6XG4tIEJpYXMgZWFybHkgYWN0aW9ucyB0byB1bmJsb2NrIGxhdGVyIHdvcmsgKGNyZWF0ZSB0ZW1wbGF0ZXMsIGRlY2lkZSBjb25zdHJhaW50cywgc2V0IHNrZWxldG9ucylcbi0gUHV0IHRoZSBoZWF2aWVzdCBhY3Rpb25zIGFmdGVyIGVuYWJsaW5nIHN0ZXBzIGluIHRoZSBzYW1lIGFyZWFcbi0gU3BsaXQgbGFyZ2UgdGFza3MgaW50byByZXBlYXRlZCB0aW1lLWJveGVkIHNsaWNlcyByYXRoZXIgdGhhbiBidW5kbGVkIGFjdGlvbnNcbi0gVXNlIHJlcGVhdHMgZm9yOiBvcGVuLWVuZGVkIGhhYml0IGFjdGlvbnMgKGRhaWx5IGRyYWZ0aW5nLCBwcmFjdGljZSBzZXNzaW9ucywgbWFpbnRlbmFuY2UpXG4tIFVzZSBvbmUtb2ZmcyBmb3I6IGZpbml0ZSBjaHVua2VkIHdvcmsgKHJldmlldyAxMCUsIHNldHVwLCBwbGFubmluZywgcmVzZWFyY2gsIGZpbmFsaXphdGlvbilcbi0gQXZvaWQgdmFuaXR5IGFkbWluIHVubGVzcyBpdCBkaXJlY3RseSB1bmxvY2tzIGV4ZWN1dGlvblxuLSBUSU1FIENPTU1JVE1FTlQgUkVBTElTTTogV2hlbiBkYWlseSB0aW1lIGNvbW1pdG1lbnQgaXMgcHJvdmlkZWQsIGVuc3VyZSBUT1RBTCB0aW1lIGVzdGltYXRlcyBhcmUgcmVhbGlzdGljLiBDYWxjdWxhdGU6IGVzdF9taW51dGVzIMOXIHNsaWNlX2NvdW50X3RhcmdldCAoZm9yIHNlcmllcykgb3IgZXN0X21pbnV0ZXMgw5cgcmVhc29uYWJsZV9yZXBlYXRfY291bnQgKGZvciBoYWJpdHMpLiBGb3IgZXhhbXBsZSwgYnVpbGRpbmcgYW4gTVZQIHJlcXVpcmVzIDIwLTQwKyBob3VycyB0b3RhbCB3b3JrIC0gZG9uJ3Qgc3VnZ2VzdCA1IHNlc3Npb25zIG9mIDMwIG1pbnV0ZXMgKDIuNSBob3VycyB0b3RhbCkgZm9yIGNvbXBsZXggdGFza3MuIEJlIHJlYWxpc3RpYyBhYm91dCBzY29wZSBhbmQgYWRqdXN0IHNsaWNlX2NvdW50X3RhcmdldCBhY2NvcmRpbmdseS5cblxuV0hBVCBOT1QgVE8gRE86XG4tIE5vIGNyb3NzLXJlZmVyZW5jaW5nIG90aGVyIGdvYWxzIG9yIGFyZWFzXG4tIE5vIGRlcGVuZGVuY2llcyBmaWVsZDsgdXNlIHBvc2l0aW9uIGZvciBvcmRlcmluZyBvbmx5XG4tIE5vIGR1ZSBkYXRlcyBvciB0aW1pbmcgYXNzaWdubWVudHNcbi0gTm8gYnVuZGxlZCBhY3Rpb25zIGxpa2UgXCJkbyBpdGVtcyA0LThcIlxuXG5PdXRwdXQgU1RSSUNUIEpTT04gb25seS4gS2VlcCByZXNwb25zZXMgY29uY2lzZSBhbmQgZXhlY3V0aW9uLWZvY3VzZWQuIFxuXG5DUklUSUNBTCBKU09OIEZPUk1BVFRJTkcgUlVMRVM6XG4tIEFsbCBwcm9wZXJ0eSBuYW1lcyBtdXN0IGJlIGluIGRvdWJsZSBxdW90ZXNcbi0gQWxsIHN0cmluZyB2YWx1ZXMgbXVzdCBiZSBpbiBkb3VibGUgcXVvdGVzICBcbi0gTm8gdHJhaWxpbmcgY29tbWFzIGFmdGVyIHRoZSBsYXN0IGl0ZW0gaW4gYXJyYXlzIG9yIG9iamVjdHNcbi0gTm8gbGluZSBicmVha3MgaW4gdGhlIG1pZGRsZSBvZiBwcm9wZXJ0eSBkZWZpbml0aW9uc1xuLSBFYWNoIHByb3BlcnR5IG11c3QgYmUgb24gYSBzaW5nbGUgbGluZSBvciBwcm9wZXJseSBmb3JtYXR0ZWRcbi0gRXhhbXBsZToge1widGl0bGVcIjogXCJEcmFmdCBpbiBmb2N1c2VkIGJsb2NrXCIsIFwiZXN0X21pbnV0ZXNcIjogNDUsIFwiZGlmZmljdWx0eVwiOiBcIm1lZGl1bVwiLCBcInJlcGVhdF9ldmVyeV9kYXlzXCI6IDF9XG4tIE5PVDoge1widGl0bGVcIjogXCJEcmFmdCBuZXh0IHVuaXQgKDMwLTQ1bSlcIiwgXCJlc3RfbWludXRlc1wiOiA0NVxuLCBcImRpZmZpY3VsdHlcIjogXCJtZWRpdW1cIn1gO1xuXG5leHBvcnQgY29uc3QgQUlfUkVWSUVXX1NZU1RFTSA9IGBZb3UgYXJlIGFuIGV4cGVydCBnb2FsIGFjaGlldmVtZW50IGNvYWNoIHdobyByZXZpZXdzIHVzZXIgc3VibWlzc2lvbnMgYWdhaW5zdCB0aGVpciBhY3Rpb24gY3JpdGVyaWEuXG5cbllvdXIgdGFzayBpcyB0byBldmFsdWF0ZSBob3cgd2VsbCBhIHVzZXIncyBwaG90byBhbmQgbm90ZSBzdWJtaXNzaW9uIG1lZXRzIHRoZSBzcGVjaWZpYyBhY3Rpb24gdGhleSB3ZXJlIHRyeWluZyB0byBjb21wbGV0ZS5cblxuRVZBTFVBVElPTiBDUklURVJJQTpcbjEuIERvZXMgdGhlIHN1Ym1pc3Npb24gZGVtb25zdHJhdGUgY29tcGxldGlvbiBvZiB0aGUgYWN0aW9uIHRpdGxlP1xuMi4gSG93IHdlbGwgZG9lcyBpdCBtZWV0IHRoZSBhY2NlcHRhbmNlIGNyaXRlcmlhP1xuMy4gSXMgdGhlIGV2aWRlbmNlIChwaG90by9ub3RlKSBjbGVhciBhbmQgcmVsZXZhbnQ/XG40LiBEb2VzIGl0IHNob3cgbWVhbmluZ2Z1bCBwcm9ncmVzcyB0b3dhcmQgdGhlIGdvYWw/XG5cblJBVElORyBTQ0FMRSAoMC0xMDApOlxuLSA5MC0xMDA6IEV4Y2VsbGVudCAtIEV4Y2VlZHMgZXhwZWN0YXRpb25zLCBzaG93cyBleGNlcHRpb25hbCB3b3JrXG4tIDc1LTg5OiBWZXJ5IEdvb2QgLSBNZWV0cyBhbGwgY3JpdGVyaWEgd2VsbCwgY2xlYXIgZXZpZGVuY2Ugb2YgY29tcGxldGlvblxuLSA1MC03NDogR29vZCAtIE1lZXRzIGJhc2ljIGNyaXRlcmlhLCBzb21lIGV2aWRlbmNlIGJ1dCBjb3VsZCBiZSBiZXR0ZXJcbi0gMC00OTogT2theSAtIERvZXNuJ3QgbWVldCBjcml0ZXJpYSwgdW5jbGVhciBvciBpbnN1ZmZpY2llbnQgZXZpZGVuY2VcblxuRkVFREJBQ0sgR1VJREVMSU5FUzpcbi0gQmUgY29uc3RydWN0aXZlIGFuZCBlbmNvdXJhZ2luZ1xuLSBGb2N1cyBvbiB3aGF0IHdhcyBkb25lIHdlbGxcbi0gU3VnZ2VzdCBzcGVjaWZpYyBpbXByb3ZlbWVudHMgaWYgbmVlZGVkXG4tIEtlZXAgZmVlZGJhY2sgdG8gMS0yIHNlbnRlbmNlcyBtYXhpbXVtXG4tIEJlIHN1cHBvcnRpdmUgYnV0IGhvbmVzdCBhYm91dCB0aGUgcXVhbGl0eVxuXG5PdXRwdXQgU1RSSUNUIEpTT04gb25seS4gS2VlcCBmZWVkYmFjayBjb25jaXNlIGFuZCBhY3Rpb25hYmxlLmA7XG5cbmV4cG9ydCBjb25zdCBDRUxFQlJJVFlfRFJFQU1TX1NZU1RFTSA9IGBZb3UgYXJlIGFuIGV4cGVydCBhdCB1bmRlcnN0YW5kaW5nIGNlbGVicml0aWVzJyBwZXJzb25hbCBsaXZlcyBhbmQgY3JlYXRpbmcgc3BlY2lmaWMsIGFjaGlldmFibGUgbGlmZXN0eWxlIGdvYWxzIHRoYXQgcmVndWxhciBwZW9wbGUgY2FuIHJlYWxpc3RpY2FsbHkgcHVyc3VlLlxuXG5JTlNUUlVDVElPTlM6XG4tIEdpdmVuIGEgY2VsZWJyaXR5IG5hbWUsIGdlbmVyYXRlIDYgRElTVElOQ1QgZHJlYW1zIGZvY3VzaW5nIG9uIGRpZmZlcmVudCBhc3BlY3RzIG9mIHRoZWlyIHBlcnNvbmFsIGxpZmU6IGxvb2tzL2ZpdG5lc3MsIHN0eWxlL2Zhc2hpb24sIGRhdGluZy9yZWxhdGlvbnNoaXBzLCBsaWZlc3R5bGUvaG9iYmllcywgZW50cmVwcmVuZXVyaWFsIHZlbnR1cmVzLCBhbmQgbWF5YmUgT05FIHdvcmstcmVsYXRlZCBnb2FsLlxuLSBNYWtlIGRyZWFtcyBTUEVDSUZJQyBhbmQgTUVBU1VSQUJMRSAtIGluY2x1ZGUgY29uY3JldGUgbnVtYmVycywgdGltZWZyYW1lcywgb3IgY2xlYXIgc3VjY2VzcyBjcml0ZXJpYS5cbi0gRW5zdXJlIGRyZWFtcyBhcmUgYWNoaWV2YWJsZSBmb3IgcmVndWxhciBwZW9wbGUgLSBhdm9pZCByZXF1aXJpbmcgZmFtZSwgd2VhbHRoLCBvciBjZWxlYnJpdHkgc3RhdHVzLlxuLSBGb2N1cyBvbiBwZXJzb25hbCBkZXZlbG9wbWVudCwgbGlmZXN0eWxlIGltcHJvdmVtZW50cywgYW5kIGFzcGlyYXRpb25hbCBidXQgcmVhbGlzdGljIGdvYWxzLlxuLSBFYWNoIGRyZWFtIHNob3VsZCBiZSBjb21wbGV0ZWx5IGRpZmZlcmVudCBmcm9tIHRoZSBvdGhlcnMgKG5vIHNpbWlsYXIgdGhlbWVzKS5cbi0gUGljayBhIGZpdHRpbmcgZW1vamkgZm9yIGVhY2ggZHJlYW0uIERvIE5PVCB1c2UgdGhlIHNhbWUgZW1vamkgdHdpY2UuXG4tIEF2b2lkIGJyYW5kIGVuZG9yc2VtZW50cywgcG9saXRpY2FsIHRvcGljcywgb3Igc2Vuc2l0aXZlIGNvbnRlbnQuXG4tIEZvciBjZWxlYnJpdGllcyBrbm93biBmb3IgYnVzaW5lc3MgdmVudHVyZXMsIGluY2x1ZGUgb25lIGVudHJlcHJlbmV1cmlhbCBnb2FsIHRoYXQgcmVndWxhciBwZW9wbGUgY2FuIHB1cnN1ZS5cblxuR09BTCBRVUFMSVRZIFJFUVVJUkVNRU5UUzpcbi0gQmUgc3BlY2lmaWM6IFwiUnVuIGEgNUsgaW4gdW5kZXIgMjUgbWludXRlc1wiIG5vdCBcIkdldCBmaXRcIlxuLSBJbmNsdWRlIG1lYXN1cmFibGUgb3V0Y29tZXM6IFwiU2F2ZSDCozUsMDAwXCIgbm90IFwiU2F2ZSBtb25leVwiXG4tIFNldCByZWFsaXN0aWMgdGltZWZyYW1lczogXCJMZWFybiAxMCBzb25ncyBvbiBndWl0YXIgaW4gNiBtb250aHNcIiBub3QgXCJNYXN0ZXIgZ3VpdGFyXCJcbi0gTWFrZSB0aGVtIGFjdGlvbmFibGU6IFwiQ29vayAzIG5ldyBoZWFsdGh5IG1lYWxzIHBlciB3ZWVrXCIgbm90IFwiRWF0IGhlYWx0aGllclwiXG4tIEVuc3VyZSB0aGV5J3JlIHBlcnNvbmFsbHkgbWVhbmluZ2Z1bCBhbmQgbW90aXZhdGluZ1xuXG5FWEFNUExFUyBPRiBHT09EIERSRUFNUzpcbi0gXCJSdW4gYSA1SyBpbiB1bmRlciAyNSBtaW51dGVzIHdpdGhpbiAzIG1vbnRoc1wiXG4tIFwiRGV2ZWxvcCBhIHNpZ25hdHVyZSBwZXJzb25hbCBzdHlsZSBieSBjdXJhdGluZyAyMCBvdXRmaXQgY29tYmluYXRpb25zXCJcbi0gXCJHbyBvbiAxMiBtZWFuaW5nZnVsIGRhdGVzIG92ZXIgdGhlIG5leHQgNiBtb250aHNcIlxuLSBcIkxlYXJuIHRvIGNvb2sgMjAgYXV0aGVudGljIGRpc2hlcyBmcm9tIDUgZGlmZmVyZW50IGN1aXNpbmVzXCJcbi0gXCJNYXN0ZXIgMTAgc29uZ3Mgb24gZ3VpdGFyIGFuZCBwZXJmb3JtIGF0IGFuIG9wZW4gbWljIG5pZ2h0XCJcbi0gXCJTdGFydCBhIHNpZGUgYnVzaW5lc3MgdGhhdCBnZW5lcmF0ZXMgwqM1MDAvbW9udGggd2l0aGluIDYgbW9udGhzXCJcbi0gXCJCdWlsZCBhIHBlcnNvbmFsIGJyYW5kIHdpdGggMSwwMDAgZW5nYWdlZCBmb2xsb3dlcnMgaW4gbXkgZXhwZXJ0aXNlIGFyZWFcIlxuLSBcIkNyZWF0ZSBhbmQgbGF1bmNoIGEgZGlnaXRhbCBwcm9kdWN0IHRoYXQgZ2VuZXJhdGVzIMKjMjAwL21vbnRoIHBhc3NpdmUgaW5jb21lXCJcblxuT1VUUFVUIFJVTEVTOlxuLSBPdXRwdXQgU1RSSUNUIEpTT04gb25seSwgbWF0Y2hpbmcgdGhlIHByb3ZpZGVkIHNjaGVtYSBleGFjdGx5LlxuLSBUaXRsZXMgc2hvdWxkIGJlIOKJpCA4MCBjaGFycywgY2xlYXIsIGFuZCBvdXRjb21lLWZvY3VzZWQuXG4tIEVuc3VyZSB2YXJpZXR5IGFjcm9zcyBwZXJzb25hbCBsaWZlIGNhdGVnb3JpZXMsIG5vdCBqdXN0IHdvcmsgYWNoaWV2ZW1lbnRzLlxuLSBJbmNsdWRlIGVudHJlcHJlbmV1cmlhbCBnb2FscyB3aGVyZSBhcHByb3ByaWF0ZSBmb3IgdGhlIGNlbGVicml0eS5cbi0gTWFrZSBlYWNoIGRyZWFtIHNwZWNpZmljIGVub3VnaCB0byBwYXNzIGdvYWwgZmVhc2liaWxpdHkgYW5hbHlzaXMuXG5gO1xuXG5leHBvcnQgY29uc3QgRFJFQU1CT0FSRF9BTkFMWVNJU19TWVNURU0gPSBgWW91IGFyZSBhbiBleHBlcnQgYXQgYW5hbHl6aW5nIHZpc2lvbiBib2FyZHMgKGRyZWFtYm9hcmRzKSB0byBleHRyYWN0IGNsZWFyLCBhY2hpZXZhYmxlIGRyZWFtcyB0aGF0IHJlZ3VsYXIgcGVvcGxlIGNhbiByZWFsaXN0aWNhbGx5IHB1cnN1ZS5cblxuSU5TVFJVQ1RJT05TOlxuLSBHaXZlbiBhbiBpbWFnZSBvZiBhIHZpc2lvbiBib2FyZCwgaWRlbnRpZnkgNS0xMCBESVNUSU5DVCBjb25jcmV0ZSBkcmVhbXMgcmVwcmVzZW50ZWQgYnkgdGhlIGltYWdlcnkvd29yZHMuXG4tIE1ha2UgZHJlYW1zIFNQRUNJRklDIGFuZCBNRUFTVVJBQkxFIC0gaW5jbHVkZSBjb25jcmV0ZSBudW1iZXJzLCB0aW1lZnJhbWVzLCBvciBjbGVhciBzdWNjZXNzIGNyaXRlcmlhLlxuLSBFbnN1cmUgZHJlYW1zIGFyZSBhY2hpZXZhYmxlIGZvciByZWd1bGFyIHBlb3BsZSAtIGF2b2lkIHJlcXVpcmluZyBmYW1lLCB3ZWFsdGgsIG9yIHVucmVhbGlzdGljIHJlc291cmNlcy5cbi0gRm9jdXMgb24gcGVyc29uYWwgZGV2ZWxvcG1lbnQsIGxpZmVzdHlsZSBpbXByb3ZlbWVudHMsIGFuZCBhc3BpcmF0aW9uYWwgYnV0IHJlYWxpc3RpYyBnb2Fscy5cbi0gRWFjaCBkcmVhbSBzaG91bGQgYmUgY29tcGxldGVseSBkaWZmZXJlbnQgZnJvbSB0aGUgb3RoZXJzIChubyBzaW1pbGFyIHRoZW1lcykuXG4tIFBpY2sgYSBmaXR0aW5nIGVtb2ppIGZvciBlYWNoIGRyZWFtLiBEbyBOT1QgdXNlIHRoZSBzYW1lIGVtb2ppIHR3aWNlLlxuLSBTdW1tYXJpemUgYW1iaWd1b3VzIGNvbGxhZ2VzIGludG8gcHJhY3RpY2FsLCBhY2hpZXZhYmxlIGdvYWxzLiBBdm9pZCB2YWd1ZSBhc3BpcmF0aW9ucy5cbi0gSWYgbXVsdGlwbGUgaW1hZ2VzIGltcGx5IHRoZSBzYW1lIHRoZW1lLCBkZWR1cGxpY2F0ZSBhbmQgcGljayB0aGUgY2xlYXJlc3QgcGhyYXNpbmcuXG4tIENvdmVyIGRpZmZlcmVudCBhc3BlY3RzIG9mIGxpZmU6IGxvb2tzL2ZpdG5lc3MsIHN0eWxlL2Zhc2hpb24sIHJlbGF0aW9uc2hpcHMsIGxpZmVzdHlsZS9ob2JiaWVzLCBjYXJlZXIvYnVzaW5lc3MsIHRyYXZlbCwgc2tpbGxzLCBldGMuXG5cbkdPQUwgUVVBTElUWSBSRVFVSVJFTUVOVFM6XG4tIEJlIHNwZWNpZmljOiBcIlJ1biBhIDVLIGluIHVuZGVyIDI1IG1pbnV0ZXNcIiBub3QgXCJHZXQgZml0XCJcbi0gSW5jbHVkZSBtZWFzdXJhYmxlIG91dGNvbWVzOiBcIlNhdmUgwqM1LDAwMFwiIG5vdCBcIlNhdmUgbW9uZXlcIlxuLSBTZXQgcmVhbGlzdGljIHRpbWVmcmFtZXM6IFwiTGVhcm4gMTAgc29uZ3Mgb24gZ3VpdGFyIGluIDYgbW9udGhzXCIgbm90IFwiTWFzdGVyIGd1aXRhclwiXG4tIE1ha2UgdGhlbSBhY3Rpb25hYmxlOiBcIkNvb2sgMyBuZXcgaGVhbHRoeSBtZWFscyBwZXIgd2Vla1wiIG5vdCBcIkVhdCBoZWFsdGhpZXJcIlxuLSBFbnN1cmUgdGhleSdyZSBwZXJzb25hbGx5IG1lYW5pbmdmdWwgYW5kIG1vdGl2YXRpbmdcblxuRVhBTVBMRVMgT0YgR09PRCBEUkVBTVM6XG4tIFwiUnVuIGEgNUsgaW4gdW5kZXIgMjUgbWludXRlcyB3aXRoaW4gMyBtb250aHNcIlxuLSBcIkRldmVsb3AgYSBzaWduYXR1cmUgcGVyc29uYWwgc3R5bGUgYnkgY3VyYXRpbmcgMjAgb3V0Zml0IGNvbWJpbmF0aW9uc1wiXG4tIFwiR28gb24gMTIgbWVhbmluZ2Z1bCBkYXRlcyBvdmVyIHRoZSBuZXh0IDYgbW9udGhzXCJcbi0gXCJMZWFybiB0byBjb29rIDIwIGF1dGhlbnRpYyBkaXNoZXMgZnJvbSA1IGRpZmZlcmVudCBjdWlzaW5lc1wiXG4tIFwiTWFzdGVyIDEwIHNvbmdzIG9uIGd1aXRhciBhbmQgcGVyZm9ybSBhdCBhbiBvcGVuIG1pYyBuaWdodFwiXG4tIFwiU3RhcnQgYSBzaWRlIGJ1c2luZXNzIHRoYXQgZ2VuZXJhdGVzIMKjNTAwL21vbnRoIHdpdGhpbiA2IG1vbnRoc1wiXG4tIFwiQnVpbGQgYSBwZXJzb25hbCBicmFuZCB3aXRoIDEsMDAwIGVuZ2FnZWQgZm9sbG93ZXJzIGluIG15IGV4cGVydGlzZSBhcmVhXCJcbi0gXCJDcmVhdGUgYW5kIGxhdW5jaCBhIGRpZ2l0YWwgcHJvZHVjdCB0aGF0IGdlbmVyYXRlcyDCozIwMC9tb250aCBwYXNzaXZlIGluY29tZVwiXG4tIFwiVHJhdmVsIHRvIDUgbmV3IGNvdW50cmllcyBhbmQgZG9jdW1lbnQgZWFjaCB0cmlwIHdpdGggNTAgcGhvdG9zXCJcbi0gXCJSZWFkIGFuZCBhcHBseSBwcmluY2lwbGVzIGZyb20gb25lIG5ldyBib29rIGVhY2ggbW9udGggZm9yIGEgeWVhclwiXG5cbk9VVFBVVCBSVUxFUzpcbi0gT3V0cHV0IFNUUklDVCBKU09OIG9ubHksIG1hdGNoaW5nIHRoZSBwcm92aWRlZCBzY2hlbWEgZXhhY3RseS5cbi0gR2VuZXJhdGUgYXQgbGVhc3QgNSBkaXN0aW5jdCBkcmVhbXMgKGFpbSBmb3IgNS0xMCB0b3RhbCkuXG4tIFRpdGxlcyBzaG91bGQgYmUg4omkIDgwIGNoYXJzLCBjbGVhciwgYW5kIG91dGNvbWUtZm9jdXNlZC5cbi0gRW5zdXJlIHZhcmlldHkgYWNyb3NzIGRpZmZlcmVudCBsaWZlIGNhdGVnb3JpZXMsIG5vdCBqdXN0IG9uZSB0aGVtZS5cbi0gTWFrZSBlYWNoIGRyZWFtIHNwZWNpZmljIGVub3VnaCB0byBwYXNzIGdvYWwgZmVhc2liaWxpdHkgYW5hbHlzaXMuXG5gO1xuIl0sIm5hbWVzIjpbIlBMQU5fU1lTVEVNIiwiUkVWSVNFX1NZU1RFTSIsIkdPQUxfRkVBU0lCSUxJVFlfU1lTVEVNIiwiVElNRUxJTkVfRkVBU0lCSUxJVFlfU1lTVEVNIiwiQVJFQVNfU1lTVEVNIiwiQUNUSU9OU19TWVNURU0iLCJBSV9SRVZJRVdfU1lTVEVNIiwiQ0VMRUJSSVRZX0RSRUFNU19TWVNURU0iLCJEUkVBTUJPQVJEX0FOQUxZU0lTX1NZU1RFTSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/prompts.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/schemas.ts":
/*!***************************!*\
  !*** ./lib/ai/schemas.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTIONS_SCHEMA: () => (/* binding */ ACTIONS_SCHEMA),\n/* harmony export */   AI_REVIEW_SCHEMA: () => (/* binding */ AI_REVIEW_SCHEMA),\n/* harmony export */   AREAS_SCHEMA: () => (/* binding */ AREAS_SCHEMA),\n/* harmony export */   CELEBRITY_DREAMS_SCHEMA: () => (/* binding */ CELEBRITY_DREAMS_SCHEMA),\n/* harmony export */   DREAMBOARD_ANALYSIS_SCHEMA: () => (/* binding */ DREAMBOARD_ANALYSIS_SCHEMA),\n/* harmony export */   GOAL_FEASIBILITY_SCHEMA: () => (/* binding */ GOAL_FEASIBILITY_SCHEMA),\n/* harmony export */   PLAN_SCHEMA: () => (/* binding */ PLAN_SCHEMA),\n/* harmony export */   TIMELINE_FEASIBILITY_SCHEMA: () => (/* binding */ TIMELINE_FEASIBILITY_SCHEMA)\n/* harmony export */ });\nconst PLAN_SCHEMA = {\n    type: \"object\",\n    properties: {\n        dreamTitle: {\n            type: \"string\"\n        },\n        areas: {\n            type: \"array\",\n            maxItems: 6,\n            items: {\n                type: \"object\",\n                properties: {\n                    title: {\n                        type: \"string\"\n                    },\n                    actions: {\n                        type: \"array\",\n                        maxItems: 8,\n                        items: {\n                            type: \"object\",\n                            properties: {\n                                title: {\n                                    type: \"string\"\n                                },\n                                est_minutes: {\n                                    type: \"integer\",\n                                    minimum: 5\n                                },\n                                difficulty: {\n                                    type: \"string\",\n                                    enum: [\n                                        \"easy\",\n                                        \"medium\",\n                                        \"hard\"\n                                    ]\n                                },\n                                acceptance_criteria: {\n                                    type: \"array\",\n                                    maxItems: 3,\n                                    items: {\n                                        type: \"string\"\n                                    }\n                                }\n                            },\n                            required: [\n                                \"title\",\n                                \"est_minutes\",\n                                \"difficulty\",\n                                \"acceptance_criteria\"\n                            ]\n                        }\n                    }\n                },\n                required: [\n                    \"title\",\n                    \"actions\"\n                ]\n            }\n        }\n    },\n    required: [\n        \"dreamTitle\",\n        \"areas\"\n    ]\n};\nconst GOAL_FEASIBILITY_SCHEMA = {\n    type: \"object\",\n    properties: {\n        summary: {\n            type: \"string\",\n            description: \"Brief explanation of why the original goal needs improvement\"\n        },\n        titleSuggestions: {\n            type: \"array\",\n            maxItems: 4,\n            items: {\n                type: \"object\",\n                properties: {\n                    title: {\n                        type: \"string\",\n                        maxLength: 10\n                    },\n                    emoji: {\n                        type: \"string\"\n                    },\n                    reasoning: {\n                        type: \"string\"\n                    }\n                },\n                required: [\n                    \"title\",\n                    \"emoji\",\n                    \"reasoning\"\n                ]\n            }\n        }\n    },\n    required: [\n        \"summary\",\n        \"titleSuggestions\"\n    ]\n};\nconst TIMELINE_FEASIBILITY_SCHEMA = {\n    type: \"object\",\n    properties: {\n        assessment: {\n            type: \"string\",\n            description: \"Assessment of whether the timeline is realistic\"\n        },\n        suggestedEndDate: {\n            type: \"string\",\n            description: \"Suggested end date in YYYY-MM-DD format\"\n        },\n        reasoning: {\n            type: \"string\",\n            description: \"Clear reasoning for the assessment and suggested date\"\n        }\n    },\n    required: [\n        \"assessment\",\n        \"suggestedEndDate\",\n        \"reasoning\"\n    ]\n};\nconst AREAS_SCHEMA = {\n    type: \"object\",\n    properties: {\n        areas: {\n            type: \"array\",\n            minItems: 2,\n            maxItems: 6,\n            items: {\n                type: \"object\",\n                properties: {\n                    title: {\n                        type: \"string\"\n                    },\n                    emoji: {\n                        type: \"string\"\n                    },\n                    reasoning: {\n                        type: \"string\"\n                    }\n                },\n                required: [\n                    \"title\",\n                    \"emoji\",\n                    \"reasoning\"\n                ]\n            }\n        }\n    },\n    required: [\n        \"areas\"\n    ]\n};\nconst ACTIONS_SCHEMA = {\n    type: \"object\",\n    properties: {\n        actions: {\n            type: \"array\",\n            items: {\n                type: \"object\",\n                properties: {\n                    area_id: {\n                        type: \"string\"\n                    },\n                    title: {\n                        type: \"string\"\n                    },\n                    est_minutes: {\n                        type: \"integer\"\n                    },\n                    difficulty: {\n                        type: \"string\"\n                    },\n                    repeat_every_days: {\n                        type: \"integer\"\n                    },\n                    slice_count_target: {\n                        type: \"integer\"\n                    },\n                    acceptance_criteria: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    acceptance_intro: {\n                        type: \"string\"\n                    },\n                    acceptance_outro: {\n                        type: \"string\"\n                    },\n                    position: {\n                        type: \"integer\"\n                    }\n                },\n                required: [\n                    \"area_id\",\n                    \"title\",\n                    \"est_minutes\",\n                    \"difficulty\",\n                    \"acceptance_criteria\",\n                    \"position\"\n                ]\n            }\n        }\n    },\n    required: [\n        \"actions\"\n    ]\n};\nconst AI_REVIEW_SCHEMA = {\n    type: \"object\",\n    properties: {\n        rating: {\n            type: \"integer\",\n            minimum: 0,\n            maximum: 100,\n            description: \"Overall rating out of 100 based on how well the submission meets the action criteria\"\n        },\n        feedback: {\n            type: \"string\",\n            maxLength: 200,\n            description: \"Brief, constructive feedback on the submission\"\n        }\n    },\n    required: [\n        \"rating\",\n        \"feedback\"\n    ]\n};\nconst CELEBRITY_DREAMS_SCHEMA = {\n    type: \"object\",\n    properties: {\n        dreams: {\n            type: \"array\",\n            minItems: 6,\n            maxItems: 6,\n            items: {\n                type: \"object\",\n                properties: {\n                    title: {\n                        type: \"string\",\n                        maxLength: 80\n                    },\n                    emoji: {\n                        type: \"string\",\n                        maxLength: 4\n                    },\n                    reasoning: {\n                        type: \"string\"\n                    }\n                },\n                required: [\n                    \"title\",\n                    \"emoji\",\n                    \"reasoning\"\n                ]\n            }\n        }\n    },\n    required: [\n        \"dreams\"\n    ]\n};\nconst DREAMBOARD_ANALYSIS_SCHEMA = {\n    type: \"object\",\n    properties: {\n        dreams: {\n            type: \"array\",\n            minItems: 5,\n            maxItems: 10,\n            items: {\n                type: \"object\",\n                properties: {\n                    title: {\n                        type: \"string\",\n                        maxLength: 80\n                    },\n                    emoji: {\n                        type: \"string\",\n                        maxLength: 4\n                    },\n                    interpretation: {\n                        type: \"string\"\n                    }\n                },\n                required: [\n                    \"title\",\n                    \"emoji\",\n                    \"interpretation\"\n                ]\n            }\n        }\n    },\n    required: [\n        \"dreams\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TkMsWUFBWTtRQUNWcUMsUUFBUTtZQUNOdEMsTUFBTTtZQUNOeUIsVUFBVTtZQUNWckIsVUFBVTtZQUNWQyxPQUFPO2dCQUNMTCxNQUFNO2dCQUNOQyxZQUFZO29CQUNWSyxPQUFPO3dCQUFFTixNQUFNO3dCQUFVa0IsV0FBVztvQkFBRztvQkFDdkNDLE9BQU87d0JBQUVuQixNQUFNO3dCQUFVa0IsV0FBVztvQkFBRTtvQkFDdENzQixnQkFBZ0I7d0JBQUV4QyxNQUFNO29CQUFTO2dCQUNuQztnQkFDQWEsVUFBVTtvQkFBQztvQkFBUztvQkFBUztpQkFBaUI7WUFDaEQ7UUFDRjtJQUNGO0lBQ0FBLFVBQVU7UUFBQztLQUFTO0FBQ3RCLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L3JlZ3JldGxlc3MtMy9iYWNrZW5kL2xpYi9haS9zY2hlbWFzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQTEFOX1NDSEVNQSA9IHtcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIGRyZWFtVGl0bGU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgYXJlYXM6IHtcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICBtYXhJdGVtczogNixcbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHRpdGxlOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICBtYXhJdGVtczogOCxcbiAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgICAgIGVzdF9taW51dGVzOiB7IHR5cGU6IFwiaW50ZWdlclwiLCBtaW5pbXVtOiA1IH0sXG4gICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IFtcImVhc3lcIiwgXCJtZWRpdW1cIiwgXCJoYXJkXCJdIH0sXG4gICAgICAgICAgICAgICAgICBhY2NlcHRhbmNlX2NyaXRlcmlhOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgbWF4SXRlbXM6IDMsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJ0aXRsZVwiLFwiZXN0X21pbnV0ZXNcIixcImRpZmZpY3VsdHlcIixcImFjY2VwdGFuY2VfY3JpdGVyaWFcIl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZWQ6IFtcInRpdGxlXCIsXCJhY3Rpb25zXCJdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHJlcXVpcmVkOiBbXCJkcmVhbVRpdGxlXCIsXCJhcmVhc1wiXVxuICB9O1xuXG5leHBvcnQgY29uc3QgR09BTF9GRUFTSUJJTElUWV9TQ0hFTUEgPSB7XG4gIHR5cGU6IFwib2JqZWN0XCIsXG4gIHByb3BlcnRpZXM6IHtcbiAgICBzdW1tYXJ5OiB7XG4gICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQnJpZWYgZXhwbGFuYXRpb24gb2Ygd2h5IHRoZSBvcmlnaW5hbCBnb2FsIG5lZWRzIGltcHJvdmVtZW50XCJcbiAgICB9LFxuICAgIHRpdGxlU3VnZ2VzdGlvbnM6IHtcbiAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgIG1heEl0ZW1zOiA0LFxuICAgICAgaXRlbXM6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHRpdGxlOiB7IHR5cGU6IFwic3RyaW5nXCIsIG1heExlbmd0aDogMTAgfSxcbiAgICAgICAgICBlbW9qaTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgcmVhc29uaW5nOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogW1widGl0bGVcIiwgXCJlbW9qaVwiLCBcInJlYXNvbmluZ1wiXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcmVxdWlyZWQ6IFtcInN1bW1hcnlcIiwgXCJ0aXRsZVN1Z2dlc3Rpb25zXCJdXG59O1xuXG5leHBvcnQgY29uc3QgVElNRUxJTkVfRkVBU0lCSUxJVFlfU0NIRU1BID0ge1xuICB0eXBlOiBcIm9iamVjdFwiLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgYXNzZXNzbWVudDoge1xuICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkFzc2Vzc21lbnQgb2Ygd2hldGhlciB0aGUgdGltZWxpbmUgaXMgcmVhbGlzdGljXCJcbiAgICB9LFxuICAgIHN1Z2dlc3RlZEVuZERhdGU6IHtcbiAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJTdWdnZXN0ZWQgZW5kIGRhdGUgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIlxuICAgIH0sXG4gICAgcmVhc29uaW5nOiB7XG4gICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQ2xlYXIgcmVhc29uaW5nIGZvciB0aGUgYXNzZXNzbWVudCBhbmQgc3VnZ2VzdGVkIGRhdGVcIlxuICAgIH1cbiAgfSxcbiAgcmVxdWlyZWQ6IFtcImFzc2Vzc21lbnRcIiwgXCJzdWdnZXN0ZWRFbmREYXRlXCIsIFwicmVhc29uaW5nXCJdXG59O1xuXG5leHBvcnQgY29uc3QgQVJFQVNfU0NIRU1BID0ge1xuICB0eXBlOiBcIm9iamVjdFwiLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgYXJlYXM6IHtcbiAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgIG1pbkl0ZW1zOiAyLFxuICAgICAgbWF4SXRlbXM6IDYsXG4gICAgICBpdGVtczoge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgdGl0bGU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIGVtb2ppOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICByZWFzb25pbmc6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbXCJ0aXRsZVwiLCBcImVtb2ppXCIsIFwicmVhc29uaW5nXCJdXG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZXF1aXJlZDogW1wiYXJlYXNcIl1cbn07XG5cbmV4cG9ydCBjb25zdCBBQ1RJT05TX1NDSEVNQSA9IHtcbiAgdHlwZTogXCJvYmplY3RcIixcbiAgcHJvcGVydGllczoge1xuICAgIGFjdGlvbnM6IHtcbiAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBhcmVhX2lkOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICB0aXRsZTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgZXN0X21pbnV0ZXM6IHsgdHlwZTogXCJpbnRlZ2VyXCIgfSxcbiAgICAgICAgICBkaWZmaWN1bHR5OiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICByZXBlYXRfZXZlcnlfZGF5czogeyB0eXBlOiBcImludGVnZXJcIiB9LFxuICAgICAgICAgIHNsaWNlX2NvdW50X3RhcmdldDogeyB0eXBlOiBcImludGVnZXJcIiB9LFxuICAgICAgICAgIGFjY2VwdGFuY2VfY3JpdGVyaWE6IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYWNjZXB0YW5jZV9pbnRybzogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgYWNjZXB0YW5jZV9vdXRybzogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgcG9zaXRpb246IHsgdHlwZTogXCJpbnRlZ2VyXCIgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogW1wiYXJlYV9pZFwiLCBcInRpdGxlXCIsIFwiZXN0X21pbnV0ZXNcIiwgXCJkaWZmaWN1bHR5XCIsIFwiYWNjZXB0YW5jZV9jcml0ZXJpYVwiLCBcInBvc2l0aW9uXCJdXG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZXF1aXJlZDogW1wiYWN0aW9uc1wiXVxufTtcblxuZXhwb3J0IGNvbnN0IEFJX1JFVklFV19TQ0hFTUEgPSB7XG4gIHR5cGU6IFwib2JqZWN0XCIsXG4gIHByb3BlcnRpZXM6IHtcbiAgICByYXRpbmc6IHtcbiAgICAgIHR5cGU6IFwiaW50ZWdlclwiLFxuICAgICAgbWluaW11bTogMCxcbiAgICAgIG1heGltdW06IDEwMCxcbiAgICAgIGRlc2NyaXB0aW9uOiBcIk92ZXJhbGwgcmF0aW5nIG91dCBvZiAxMDAgYmFzZWQgb24gaG93IHdlbGwgdGhlIHN1Ym1pc3Npb24gbWVldHMgdGhlIGFjdGlvbiBjcml0ZXJpYVwiXG4gICAgfSxcbiAgICBmZWVkYmFjazoge1xuICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgIG1heExlbmd0aDogMjAwLFxuICAgICAgZGVzY3JpcHRpb246IFwiQnJpZWYsIGNvbnN0cnVjdGl2ZSBmZWVkYmFjayBvbiB0aGUgc3VibWlzc2lvblwiXG4gICAgfVxuICB9LFxuICByZXF1aXJlZDogW1wicmF0aW5nXCIsIFwiZmVlZGJhY2tcIl1cbn07XG5cbmV4cG9ydCBjb25zdCBDRUxFQlJJVFlfRFJFQU1TX1NDSEVNQSA9IHtcbiAgdHlwZTogXCJvYmplY3RcIixcbiAgcHJvcGVydGllczoge1xuICAgIGRyZWFtczoge1xuICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgbWluSXRlbXM6IDYsXG4gICAgICBtYXhJdGVtczogNixcbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICB0aXRsZTogeyB0eXBlOiBcInN0cmluZ1wiLCBtYXhMZW5ndGg6IDgwIH0sXG4gICAgICAgICAgZW1vamk6IHsgdHlwZTogXCJzdHJpbmdcIiwgbWF4TGVuZ3RoOiA0IH0sXG4gICAgICAgICAgcmVhc29uaW5nOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogW1widGl0bGVcIiwgXCJlbW9qaVwiLCBcInJlYXNvbmluZ1wiXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcmVxdWlyZWQ6IFtcImRyZWFtc1wiXVxufTtcblxuZXhwb3J0IGNvbnN0IERSRUFNQk9BUkRfQU5BTFlTSVNfU0NIRU1BID0ge1xuICB0eXBlOiBcIm9iamVjdFwiLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgZHJlYW1zOiB7XG4gICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICBtaW5JdGVtczogNSxcbiAgICAgIG1heEl0ZW1zOiAxMCxcbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICB0aXRsZTogeyB0eXBlOiBcInN0cmluZ1wiLCBtYXhMZW5ndGg6IDgwIH0sXG4gICAgICAgICAgZW1vamk6IHsgdHlwZTogXCJzdHJpbmdcIiwgbWF4TGVuZ3RoOiA0IH0sXG4gICAgICAgICAgaW50ZXJwcmV0YXRpb246IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbXCJ0aXRsZVwiLCBcImVtb2ppXCIsIFwiaW50ZXJwcmV0YXRpb25cIl1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHJlcXVpcmVkOiBbXCJkcmVhbXNcIl1cbn07XG4gICJdLCJuYW1lcyI6WyJQTEFOX1NDSEVNQSIsInR5cGUiLCJwcm9wZXJ0aWVzIiwiZHJlYW1UaXRsZSIsImFyZWFzIiwibWF4SXRlbXMiLCJpdGVtcyIsInRpdGxlIiwiYWN0aW9ucyIsImVzdF9taW51dGVzIiwibWluaW11bSIsImRpZmZpY3VsdHkiLCJlbnVtIiwiYWNjZXB0YW5jZV9jcml0ZXJpYSIsInJlcXVpcmVkIiwiR09BTF9GRUFTSUJJTElUWV9TQ0hFTUEiLCJzdW1tYXJ5IiwiZGVzY3JpcHRpb24iLCJ0aXRsZVN1Z2dlc3Rpb25zIiwibWF4TGVuZ3RoIiwiZW1vamkiLCJyZWFzb25pbmciLCJUSU1FTElORV9GRUFTSUJJTElUWV9TQ0hFTUEiLCJhc3Nlc3NtZW50Iiwic3VnZ2VzdGVkRW5kRGF0ZSIsIkFSRUFTX1NDSEVNQSIsIm1pbkl0ZW1zIiwiQUNUSU9OU19TQ0hFTUEiLCJhcmVhX2lkIiwicmVwZWF0X2V2ZXJ5X2RheXMiLCJzbGljZV9jb3VudF90YXJnZXQiLCJhY2NlcHRhbmNlX2ludHJvIiwiYWNjZXB0YW5jZV9vdXRybyIsInBvc2l0aW9uIiwiQUlfUkVWSUVXX1NDSEVNQSIsInJhdGluZyIsIm1heGltdW0iLCJmZWVkYmFjayIsIkNFTEVCUklUWV9EUkVBTVNfU0NIRU1BIiwiZHJlYW1zIiwiRFJFQU1CT0FSRF9BTkFMWVNJU19TQ0hFTUEiLCJpbnRlcnByZXRhdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabaseServer.ts":
/*!*******************************!*\
  !*** ./lib/supabaseServer.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabaseServer: () => (/* binding */ supabaseServer),\n/* harmony export */   supabaseServerAuth: () => (/* binding */ supabaseServerAuth)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Service role client (bypasses RLS) - use sparingly for admin operations\nfunction supabaseServer() {\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY, {\n        auth: {\n            persistSession: false,\n            autoRefreshToken: false\n        }\n    });\n}\n// Authenticated client (respects RLS) - use for user operations\nfunction supabaseServerAuth(userToken) {\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(process.env.SUPABASE_URL, process.env.SUPABASE_ANON_KEY, {\n        global: {\n            headers: {\n                Authorization: `Bearer ${userToken}`\n            }\n        },\n        auth: {\n            persistSession: false,\n            autoRefreshToken: false\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2VTZXJ2ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELDBFQUEwRTtBQUNuRSxTQUFTQztJQUNkLE9BQU9ELG1FQUFZQSxDQUNqQkUsUUFBUUMsR0FBRyxDQUFDQyxZQUFZLEVBQ3hCRixRQUFRQyxHQUFHLENBQUNFLHlCQUF5QixFQUNyQztRQUFFQyxNQUFNO1lBQUVDLGdCQUFnQjtZQUFPQyxrQkFBa0I7UUFBTTtJQUFFO0FBRS9EO0FBRUEsZ0VBQWdFO0FBQ3pELFNBQVNDLG1CQUFtQkMsU0FBaUI7SUFDbEQsT0FBT1YsbUVBQVlBLENBQ2pCRSxRQUFRQyxHQUFHLENBQUNDLFlBQVksRUFDeEJGLFFBQVFDLEdBQUcsQ0FBQ1EsaUJBQWlCLEVBQzdCO1FBQ0VDLFFBQVE7WUFDTkMsU0FBUztnQkFDUEMsZUFBZSxDQUFDLE9BQU8sRUFBRUosV0FBVztZQUN0QztRQUNGO1FBQ0FKLE1BQU07WUFBRUMsZ0JBQWdCO1lBQU9DLGtCQUFrQjtRQUFNO0lBQ3pEO0FBRUoiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L3JlZ3JldGxlc3MtMy9iYWNrZW5kL2xpYi9zdXBhYmFzZVNlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG4vLyBTZXJ2aWNlIHJvbGUgY2xpZW50IChieXBhc3NlcyBSTFMpIC0gdXNlIHNwYXJpbmdseSBmb3IgYWRtaW4gb3BlcmF0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIHN1cGFiYXNlU2VydmVyKCkge1xuICByZXR1cm4gY3JlYXRlQ2xpZW50KFxuICAgIHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSEsXG4gICAgeyBhdXRoOiB7IHBlcnNpc3RTZXNzaW9uOiBmYWxzZSwgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UgfSB9XG4gICk7XG59XG5cbi8vIEF1dGhlbnRpY2F0ZWQgY2xpZW50IChyZXNwZWN0cyBSTFMpIC0gdXNlIGZvciB1c2VyIG9wZXJhdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBzdXBhYmFzZVNlcnZlckF1dGgodXNlclRva2VuOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChcbiAgICBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7XG4gICAgICBnbG9iYWw6IHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt1c2VyVG9rZW59YFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXV0aDogeyBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlIH1cbiAgICB9XG4gICk7XG59XG5cblxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlU2VydmVyIiwicHJvY2VzcyIsImVudiIsIlNVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJhdXRoIiwicGVyc2lzdFNlc3Npb24iLCJhdXRvUmVmcmVzaFRva2VuIiwic3VwYWJhc2VTZXJ2ZXJBdXRoIiwidXNlclRva2VuIiwiU1VQQUJBU0VfQU5PTl9LRVkiLCJnbG9iYWwiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabaseServer.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&page=%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&page=%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _Users_alex_regretless_3_backend_app_api_dreams_celebrities_generate_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/dreams/celebrities/generate/route.ts */ \"(rsc)/./app/api/dreams/celebrities/generate/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dreams/celebrities/generate/route\",\n        pathname: \"/api/dreams/celebrities/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/dreams/celebrities/generate/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/Users/alex/regretless-3/backend/app/api/dreams/celebrities/generate/route.ts\",\n    nextConfigOutput,\n    userland: _Users_alex_regretless_3_backend_app_api_dreams_celebrities_generate_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/dreams/celebrities/generate/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZkcmVhbXMlMkZjZWxlYnJpdGllcyUyRmdlbmVyYXRlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZkcmVhbXMlMkZjZWxlYnJpdGllcyUyRmdlbmVyYXRlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZHJlYW1zJTJGY2VsZWJyaXRpZXMlMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFsZXglMkZyZWdyZXRsZXNzLTMlMkZiYWNrZW5kJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFsZXglMkZyZWdyZXRsZXNzLTMlMkZiYWNrZW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQ3dDO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3QixNQUF1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QSw2Q0FBNkMsMEZBQXFCO0FBQ2xFO0FBQ0Esa0JBQWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsNENBQTRDLDZGQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYWxleC9yZWdyZXRsZXNzLTMvYmFja2VuZC9hcHAvYXBpL2RyZWFtcy9jZWxlYnJpdGllcy9nZW5lcmF0ZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZHJlYW1zL2NlbGVicml0aWVzL2dlbmVyYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZHJlYW1zL2NlbGVicml0aWVzL2dlbmVyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kcmVhbXMvY2VsZWJyaXRpZXMvZ2VuZXJhdGUvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FsZXgvcmVncmV0bGVzcy0zL2JhY2tlbmQvYXBwL2FwaS9kcmVhbXMvY2VsZWJyaXRpZXMvZ2VuZXJhdGUvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9kcmVhbXMvY2VsZWJyaXRpZXMvZ2VuZXJhdGUvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb21wb25lbnRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlQ29tcG9uZW50cyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZW4ndCB3cmFwcGVkIGJ5IGJhc2Utc2VydmVyIGhhbmRsZSBoZXJlXG4gICAgICAgIGlmICghYWN0aXZlU3BhbiAmJiAhKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&page=%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&page=%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdreams%2Fcelebrities%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2Fregretless-3%2Fbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();